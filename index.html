<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>JELLY CSTORE</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=Space+Mono:wght@400;700&family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
<style>
:root{
  --bg:#020408;
  --bg2:#040810;
  --s:#06090f;
  --c:#080d18;
  --c2:#0c1220;
  --c3:#101828;

  --b:rgba(0,240,255,0.06);
  --b2:rgba(0,240,255,0.13);
  --b3:rgba(0,240,255,0.22);

  --cyan:#00f0ff;
  --cyan2:#7dfeff;
  --cyan3:rgba(0,240,255,0.12);
  --gold:#ffb700;
  --gold2:#ffd860;
  --emerald:#00ff88;
  --red:#ff3b5c;
  --purple:#b066ff;

  --t:#f0f4ff;
  --t2:#8899bb;
  --m:#3a4a66;
  --m2:#5566888;

  --fh:'Syne',sans-serif;
  --fb:'Manrope',sans-serif;
  --fm:'Space Mono',monospace;

  --r:14px;--r2:8px;--r3:5px;
  --ease:cubic-bezier(0.16,1,0.3,1);
  --snap:cubic-bezier(0.34,1.56,0.64,1);
}

*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{
  background:var(--bg);
  color:var(--t);
  font-family:var(--fb);
  overflow-x:hidden;
  cursor:none;
}

/* ‚ïê‚ïê‚ïê CUSTOM CURSOR ‚ïê‚ïê‚ïê */
#cursor{
  position:fixed;width:12px;height:12px;
  background:var(--cyan);border-radius:50%;
  pointer-events:none;z-index:99999;
  transform:translate(-50%,-50%);
  transition:width 0.2s,height 0.2s,background 0.2s;
  mix-blend-mode:screen;
}
#cursor-trail{
  position:fixed;width:36px;height:36px;
  border:1px solid rgba(0,240,255,0.4);border-radius:50%;
  pointer-events:none;z-index:99998;
  transform:translate(-50%,-50%);
  transition:all 0.12s ease;
}
body:hover #cursor{opacity:1;}

/* ‚ïê‚ïê‚ïê NOISE OVERLAY ‚ïê‚ïê‚ïê */
body::before{
  content:'';position:fixed;inset:0;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events:none;z-index:1;opacity:0.4;
}

/* ‚ïê‚ïê‚ïê SCANLINES ‚ïê‚ïê‚ïê */
body::after{
  content:'';position:fixed;inset:0;
  background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,240,255,0.01) 2px,rgba(0,240,255,0.01) 4px);
  pointer-events:none;z-index:1;animation:scanroll 8s linear infinite;
}
@keyframes scanroll{from{background-position:0 0}to{background-position:0 100px}}

/* ‚ïê‚ïê‚ïê GRID BG ‚ïê‚ïê‚ïê */
#grid-bg{
  position:fixed;inset:0;z-index:0;
  background-image:
    linear-gradient(rgba(0,240,255,0.025) 1px,transparent 1px),
    linear-gradient(90deg,rgba(0,240,255,0.025) 1px,transparent 1px);
  background-size:60px 60px;
  mask-image:radial-gradient(ellipse 80% 60% at 50% 0%,black 30%,transparent 100%);
}

/* ‚ïê‚ïê‚ïê ORB GLOWS ‚ïê‚ïê‚ïê */
.orb{position:fixed;border-radius:50%;pointer-events:none;z-index:0;}
.o1{width:700px;height:700px;background:radial-gradient(circle,rgba(0,240,255,0.055),transparent 70%);top:-300px;left:-100px;animation:oa 18s ease-in-out infinite;}
.o2{width:500px;height:500px;background:radial-gradient(circle,rgba(255,183,0,0.04),transparent 70%);bottom:-100px;right:-50px;animation:ob 22s ease-in-out infinite;}
.o3{width:350px;height:350px;background:radial-gradient(circle,rgba(176,102,255,0.04),transparent 70%);top:50%;left:50%;animation:oc 26s ease-in-out infinite;}
@keyframes oa{0%,100%{transform:translate(0,0) scale(1)}40%{transform:translate(60px,40px) scale(1.05)}70%{transform:translate(-30px,20px) scale(0.98)}}
@keyframes ob{0%,100%{transform:translate(0,0)}50%{transform:translate(-60px,-40px)}}
@keyframes oc{0%,100%{transform:translate(-50%,-50%)}50%{transform:translate(-50%,-50%) scale(1.15)}}

/* ‚ïê‚ïê‚ïê LAYOUT ‚ïê‚ïê‚ïê */
.app{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  position:relative;z-index:2;
}
.main-content{
  display:flex;
  flex:1;
}
.store{flex:1;overflow-y:auto;min-width:0;}

/* ‚ïê‚ïê‚ïê TOP NAV ‚ïê‚ïê‚ïê */
.snav{
  display:flex;align-items:center;justify-content:space-between;
  padding:0 40px;height:68px;
  background:rgba(2,4,8,0.85);
  backdrop-filter:blur(40px);
  border-bottom:1px solid var(--b2);
  position:sticky;top:0;z-index:100;
  transition:all 0.3s;
}
.snav.scrolled{
  background:rgba(2,4,8,0.97);
  box-shadow:0 0 40px rgba(0,240,255,0.06);
}

.nav-logo{display:flex;align-items:center;gap:12px;text-decoration:none;}
.logo-mark{
  width:34px;height:34px;
  background:linear-gradient(135deg,var(--cyan),var(--purple));
  clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);
  animation:logo-spin 12s linear infinite;
  flex-shrink:0;
}
@keyframes logo-spin{to{filter:hue-rotate(360deg);}}
.logo-text{
  font-family:var(--fh);font-size:1.1rem;font-weight:800;
  letter-spacing:1px;
  background:linear-gradient(135deg,#fff 40%,var(--cyan) 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}

.nav-center{display:flex;align-items:center;gap:6px;}
.nav-pill{
  display:flex;align-items:center;gap:6px;
  font-family:var(--fm);font-size:0.44rem;letter-spacing:2px;
  color:var(--emerald);
  padding:5px 12px;
  border:1px solid rgba(0,255,136,0.2);
  background:rgba(0,255,136,0.05);
  border-radius:20px;
}
.live-dot{
  width:6px;height:6px;border-radius:50%;
  background:var(--emerald);
  box-shadow:0 0 10px var(--emerald);
  animation:live-pulse 2s ease-in-out infinite;
}
@keyframes live-pulse{0%,100%{opacity:1;box-shadow:0 0 8px var(--emerald)}50%{opacity:0.3;box-shadow:none}}

.nav-right{display:flex;align-items:center;gap:10px;}
.nav-admin-btn{
  position:relative;
  width:34px;height:34px;
  background:none;
  border:1px solid var(--b);
  border-radius:8px;
  color:var(--t2);
  display:flex;align-items:center;justify-content:center;
  font-size:1.1rem;
  transition:all 0.2s;
  cursor:none;
}
.nav-admin-btn:hover{
  border-color:var(--b3);
  color:var(--cyan);
  background:var(--cyan3);
  box-shadow:0 0 16px rgba(0,240,255,0.12);
}
.admin-dropdown{
  position:absolute;top:calc(100% + 8px);right:0;
  width:220px;
  background:var(--c2);
  border:1px solid var(--b2);
  border-radius:var(--r2);
  padding:8px;
  display:none;
  animation:drop-in 0.2s var(--ease);
  box-shadow:0 20px 50px rgba(0,0,0,0.6);
  z-index:200;
}
.admin-dropdown.open{display:block;}
@keyframes drop-in{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
.adrop-item{
  width:100%;padding:9px 12px;
  font-family:var(--fm);font-size:0.52rem;letter-spacing:1px;
  text-transform:uppercase;color:var(--t2);
  background:none;border:none;text-align:left;
  border-radius:var(--r3);
  transition:all 0.15s;cursor:none;
}
.adrop-item:hover{background:var(--c3);color:var(--cyan);}
.adrop-item.active{color:var(--emerald);}

/* ‚ïê‚ïê‚ïê HERO ‚ïê‚ïê‚ïê */
.hero{
  padding:70px 40px 50px;
  position:relative;overflow:hidden;
}
.hero-bg-text{
  position:absolute;
  font-family:var(--fh);font-size:20vw;font-weight:900;
  color:rgba(0,240,255,0.02);
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  white-space:nowrap;letter-spacing:-0.05em;
  pointer-events:none;user-select:none;
  animation:hero-bg-drift 20s ease-in-out infinite;
}
@keyframes hero-bg-drift{0%,100%{transform:translate(-50%,-50%)}50%{transform:translate(-50%,-52%)}}

.hero-tag{
  display:inline-flex;align-items:center;gap:8px;
  font-family:var(--fm);font-size:0.5rem;letter-spacing:3px;
  color:var(--cyan);text-transform:uppercase;
  padding:6px 14px;
  border:1px solid rgba(0,240,255,0.2);
  background:rgba(0,240,255,0.04);
  border-radius:3px;
  margin-bottom:20px;
  animation:fadeUp 0.8s var(--ease) 0.1s backwards;
  position:relative;overflow:hidden;
}
.hero-tag::before{
  content:'';position:absolute;left:-100%;top:0;
  width:60%;height:100%;
  background:linear-gradient(90deg,transparent,rgba(0,240,255,0.1),transparent);
  animation:tag-shine 3s ease-in-out 2s infinite;
}
@keyframes tag-shine{0%{left:-100%}100%{left:200%}}

@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

.hero-title{
  font-family:var(--fh);
  font-size:clamp(2.2rem,5vw,4.2rem);
  font-weight:800;line-height:1.0;
  margin-bottom:14px;
  animation:fadeUp 0.8s var(--ease) 0.2s backwards;
}
.hero-title .line1{
  background:linear-gradient(135deg,#fff 0%,rgba(200,220,255,0.9) 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  display:block;
}
.hero-title .line2{
  background:linear-gradient(135deg,var(--cyan) 0%,var(--purple) 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  display:block;
}
.hero-sub{
  color:var(--t2);font-size:0.88rem;
  line-height:1.9;font-weight:400;
  max-width:480px;margin-bottom:32px;
  animation:fadeUp 0.8s var(--ease) 0.3s backwards;
}

.hero-stats{
  display:flex;gap:32px;flex-wrap:wrap;
  animation:fadeUp 0.8s var(--ease) 0.4s backwards;
}
.hstat{position:relative;}
.hstat-v{
  font-family:var(--fh);font-size:1.8rem;font-weight:800;
  background:linear-gradient(135deg,var(--cyan),var(--cyan2));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  line-height:1;margin-bottom:3px;
}
.hstat-l{
  font-family:var(--fm);font-size:0.44rem;
  letter-spacing:2px;color:var(--t2);text-transform:uppercase;
}

/* ‚ïê‚ïê‚ïê SECTION HEADER ‚ïê‚ïê‚ïê */
.sec-hd{
  display:flex;align-items:center;gap:14px;
  margin-bottom:22px;padding:0;
}
.sec-hd-l{
  font-family:var(--fm);font-size:0.46rem;
  letter-spacing:4px;color:var(--cyan);text-transform:uppercase;
  white-space:nowrap;
}
.sec-hd-line{
  height:1px;flex:1;
  background:linear-gradient(90deg,var(--b2),transparent);
}

/* ‚ïê‚ïê‚ïê PRODUCTS GRID ‚ïê‚ïê‚ïê */
.products-wrap{padding:0 40px 60px;}
.products-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(340px,1fr));
  gap:20px;
}

/* ‚ïê‚ïê‚ïê PRODUCT CARD ‚ïê‚ïê‚ïê */
.pcard{
  background:linear-gradient(145deg,var(--c),var(--s));
  border:1px solid var(--b);
  border-radius:var(--r);
  overflow:hidden;
  transition:all 0.4s var(--ease);
  animation:cardIn 0.7s var(--ease) backwards;
  position:relative;
}
@keyframes cardIn{from{opacity:0;transform:translateY(40px) scale(0.96)}to{opacity:1;transform:translateY(0) scale(1)}}

.pcard::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(0,240,255,0.03),transparent 50%,rgba(176,102,255,0.02));
  opacity:0;transition:opacity 0.3s;pointer-events:none;
}
.pcard:hover{
  border-color:var(--b3);
  box-shadow:
    0 0 0 1px rgba(0,240,255,0.08),
    0 30px 80px rgba(0,0,0,0.6),
    0 0 60px rgba(0,240,255,0.06);
  transform:translateY(-8px);
}
.pcard:hover::before{opacity:1;}

.pc-img{
  position:relative;background:var(--s);
  min-height:220px;max-height:300px;
  overflow:hidden;display:flex;align-items:center;justify-content:center;
}
.pc-img img{
  width:100%;height:100%;object-fit:cover;display:block;
  transition:transform 0.7s var(--ease);
  filter:saturate(0.85) brightness(0.9);
}
.pcard:hover .pc-img img{transform:scale(1.08);filter:saturate(1) brightness(1);}

.pc-img-ph{
  display:flex;flex-direction:column;align-items:center;
  justify-content:center;height:220px;gap:10px;
}
.ph-ico{font-size:3rem;opacity:0.1;}
.ph-t{
  font-family:var(--fm);font-size:0.44rem;
  letter-spacing:3px;text-transform:uppercase;
  color:var(--t2);opacity:0.3;
}
.img-grd{
  position:absolute;inset:0;
  background:linear-gradient(to bottom,transparent 25%,rgba(2,4,8,0.98) 100%);
}
.img-price{
  position:absolute;bottom:14px;left:14px;
  background:rgba(2,4,8,0.9);
  border:1px solid var(--b2);
  backdrop-filter:blur(20px);
  border-radius:var(--r2);
  padding:8px 14px;
}
.ip-v{
  font-family:var(--fh);font-size:1.5rem;font-weight:800;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  line-height:1;
}
.ip-l{
  font-family:var(--fm);font-size:0.42rem;
  letter-spacing:2px;color:var(--t2);text-transform:uppercase;margin-top:2px;
}
.img-bdgs{
  position:absolute;top:12px;right:12px;
  display:flex;flex-direction:column;gap:5px;align-items:flex-end;
}
.bdg{
  font-family:var(--fm);font-size:0.42rem;
  letter-spacing:2px;text-transform:uppercase;
  padding:4px 10px;border-radius:3px;
  backdrop-filter:blur(10px);
}
.bdg-g{background:rgba(0,255,136,0.1);color:var(--emerald);border:1px solid rgba(0,255,136,0.25);}
.bdg-c{background:rgba(0,240,255,0.1);color:var(--cyan);border:1px solid rgba(0,240,255,0.25);}
.bdg-p{background:rgba(176,102,255,0.1);color:var(--purple);border:1px solid rgba(176,102,255,0.25);}

.pc-body{padding:22px 22px 24px;}
.pc-cat{
  font-family:var(--fm);font-size:0.44rem;
  letter-spacing:3px;color:var(--cyan);text-transform:uppercase;
  margin-bottom:7px;display:flex;align-items:center;gap:8px;
  opacity:0.7;
}
.pc-cat::before{content:'';width:16px;height:1px;background:var(--cyan);opacity:0.5;}
.pc-title{
  font-family:var(--fh);font-size:1.3rem;font-weight:700;
  line-height:1.15;margin-bottom:10px;color:var(--t);
}
.pc-summary{
  color:var(--t2);font-size:0.78rem;line-height:1.9;
  font-weight:400;margin-bottom:16px;
}
.pc-chips{display:flex;flex-wrap:wrap;gap:5px;margin-bottom:18px;}
.chip{
  font-family:var(--fm);font-size:0.5rem;letter-spacing:1px;
  color:var(--t2);padding:3px 9px;
  background:rgba(0,240,255,0.04);
  border:1px solid rgba(0,240,255,0.1);
  border-radius:3px;
  transition:all 0.15s;
}
.chip:hover{color:var(--cyan);border-color:rgba(0,240,255,0.3);}

.pc-items{margin-bottom:18px;}
.items-lbl{
  font-family:var(--fm);font-size:0.44rem;
  letter-spacing:2px;color:var(--t2);
  text-transform:uppercase;margin-bottom:7px;opacity:0.6;
}
.item-row{
  display:flex;align-items:center;gap:8px;
  padding:8px 11px;
  background:rgba(0,240,255,0.03);
  border:1px solid rgba(0,240,255,0.07);
  border-radius:var(--r2);margin-bottom:4px;
}
.ir-ico{font-size:0.88rem;}
.ir-name{
  font-family:var(--fm);font-size:0.6rem;
  color:var(--t2);flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.ir-type{
  font-family:var(--fm);font-size:0.42rem;color:var(--cyan);
  padding:2px 6px;background:rgba(0,240,255,0.07);
  border-radius:2px;text-transform:uppercase;opacity:0.7;
}

.pc-cta{display:flex;gap:8px;}
.btn-buy{
  flex:1;
  background:linear-gradient(135deg,var(--cyan),rgba(0,200,240,0.8));
  color:#020408;
  font-family:var(--fm);font-size:0.6rem;font-weight:700;
  letter-spacing:2px;text-transform:uppercase;
  padding:14px 18px;border:none;border-radius:var(--r2);
  transition:all 0.25s var(--ease);
  position:relative;overflow:hidden;cursor:none;
}
.btn-buy::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(255,255,255,0.2),transparent);
  opacity:0;transition:opacity 0.2s;
}
.btn-buy::after{
  content:'';position:absolute;
  top:50%;left:50%;width:0;height:0;
  background:rgba(255,255,255,0.25);
  border-radius:50%;transform:translate(-50%,-50%);
  transition:width 0.4s,height 0.4s,opacity 0.4s;opacity:0;
}
.btn-buy:hover{
  background:linear-gradient(135deg,var(--cyan2),var(--cyan));
  transform:translateY(-2px);
  box-shadow:0 12px 35px rgba(0,240,255,0.35);
}
.btn-buy:hover::before{opacity:1;}
.btn-buy:active::after{width:300px;height:300px;opacity:0;}

.btn-tg{
  background:rgba(0,240,255,0.05);
  color:var(--cyan);
  border:1px solid rgba(0,240,255,0.18);
  font-family:var(--fm);font-size:0.58rem;letter-spacing:1px;
  text-transform:uppercase;padding:14px 14px;
  border-radius:var(--r2);transition:all 0.2s;
  display:inline-flex;align-items:center;gap:6px;
  text-decoration:none;cursor:none;
}
.btn-tg:hover{
  background:rgba(0,240,255,0.1);
  border-color:rgba(0,240,255,0.35);
  transform:translateY(-2px);
  box-shadow:0 8px 24px rgba(0,240,255,0.12);
}

.empty{
  text-align:center;padding:80px 20px;
  grid-column:1/-1;
}
.empty-ico{font-size:3rem;opacity:0.1;margin-bottom:14px;}
.empty-t{
  font-family:var(--fh);font-size:1.1rem;font-weight:700;
  color:var(--t2);margin-bottom:6px;
}
.empty-s{font-size:0.75rem;color:var(--t2);opacity:0.4;line-height:2;}

/* ‚ïê‚ïê‚ïê FORMS ‚ïê‚ïê‚ïê */
.fg{margin-bottom:12px;text-align:left;}
.fg label,.flbl{
  display:block;font-family:var(--fm);font-size:0.46rem;
  letter-spacing:2px;color:var(--cyan);text-transform:uppercase;
  margin-bottom:6px;opacity:0.7;
}
.fg input,.fg textarea,.fg select{
  width:100%;background:rgba(0,240,255,0.03);
  border:1px solid var(--b);color:var(--t);
  font-family:var(--fm);font-size:0.72rem;
  padding:11px 13px;outline:none;transition:all 0.2s;
  border-radius:var(--r2);
}
.fg textarea{resize:vertical;min-height:72px;line-height:1.7;}
.fg input:focus,.fg textarea:focus{
  border-color:rgba(0,240,255,0.4);
  background:rgba(0,240,255,0.05);
  box-shadow:0 0 0 3px rgba(0,240,255,0.06),0 0 20px rgba(0,240,255,0.05);
}
.fg select option{background:var(--c);}

.btm{
  width:100%;font-family:var(--fm);font-size:0.6rem;
  font-weight:700;letter-spacing:2px;text-transform:uppercase;
  padding:12px;border:none;border-radius:var(--r2);
  transition:all 0.2s var(--ease);margin-top:5px;cursor:none;
}
.btm.gold{
  background:linear-gradient(135deg,var(--cyan),rgba(0,200,240,0.8));
  color:#020408;
}
.btm.gold:hover{
  background:linear-gradient(135deg,var(--cyan2),var(--cyan));
  box-shadow:0 8px 28px rgba(0,240,255,0.3);
  transform:translateY(-1px);
}
.btm.ghost{
  background:transparent;color:var(--t2);
  border:1px solid var(--b);
}
.btm.ghost:hover{border-color:var(--b2);color:var(--t);}
.btm.red{
  background:rgba(255,59,92,0.07);color:var(--red);
  border:1px solid rgba(255,59,92,0.18);
}
.btm.red:hover{background:rgba(255,59,92,0.14);}
.btm:disabled{opacity:0.3;pointer-events:none;}
.btm:active{transform:scale(0.97);}

.emsg{
  color:var(--red);font-family:var(--fm);font-size:0.55rem;
  margin-top:6px;display:none;line-height:1.7;
}
.emsg.on{display:block;}
.smsg{
  color:var(--emerald);font-family:var(--fm);font-size:0.55rem;
  margin-top:6px;display:none;line-height:1.7;
}
.smsg.on{display:block;}

/* ‚ïê‚ïê‚ïê ADMIN PANEL (side) ‚ïê‚ïê‚ïê */
.admin-panel{
  width:380px;min-width:380px;height:100vh;
  background:var(--bg2);
  border-left:1px solid var(--b);
  display:flex;flex-direction:column;overflow:hidden;
  position:sticky;top:0;
}

/* Admin Lock */
.admin-lock{
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  height:100%;padding:36px 26px;text-align:center;
}
.lock-orb{
  width:72px;height:72px;border-radius:50%;
  background:linear-gradient(135deg,var(--c2),var(--c3));
  border:1px solid var(--b2);
  display:flex;align-items:center;justify-content:center;
  font-size:1.8rem;margin-bottom:20px;
  box-shadow:0 0 40px rgba(0,240,255,0.06);
  animation:lock-pulse 3s ease-in-out infinite;
}
@keyframes lock-pulse{0%,100%{box-shadow:0 0 40px rgba(0,240,255,0.06)}50%{box-shadow:0 0 60px rgba(0,240,255,0.12)}}
.lock-title{
  font-family:var(--fh);font-size:1.1rem;font-weight:700;
  margin-bottom:7px;
}
.lock-sub{
  color:var(--t2);font-size:0.74rem;line-height:1.9;
  font-weight:400;margin-bottom:28px;
}
.lock-div{width:100%;height:1px;background:var(--b);margin-bottom:28px;}

/* Admin Dash */
.adash{display:none;flex-direction:column;height:100%;}
.adash.on{display:flex;}
.dash-head{
  padding:14px 16px;border-bottom:1px solid var(--b);
  background:var(--c);flex-shrink:0;
}
.dash-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;}
.dash-logo{
  display:flex;align-items:center;gap:8px;
  font-family:var(--fh);font-size:0.85rem;font-weight:800;
  letter-spacing:1px;
}
.d-hex{
  width:10px;height:10px;
  background:linear-gradient(135deg,var(--cyan),var(--purple));
  clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);
}
.dash-logo span{color:var(--red);}
.btn-lo{
  background:none;border:1px solid var(--b);
  color:var(--t2);font-family:var(--fm);font-size:0.46rem;
  letter-spacing:1px;padding:5px 11px;
  border-radius:var(--r3);transition:all 0.2s;cursor:none;
}
.btn-lo:hover{border-color:rgba(255,59,92,0.3);color:var(--red);}

.stats-g{display:grid;grid-template-columns:repeat(3,1fr);gap:7px;}
.sbox{
  background:rgba(0,240,255,0.03);
  border:1px solid var(--b);border-radius:var(--r2);
  padding:10px 8px;text-align:center;
}
.sb-l{
  font-family:var(--fm);font-size:0.38rem;
  letter-spacing:2px;color:var(--t2);text-transform:uppercase;margin-bottom:3px;
}
.sb-v{
  font-family:var(--fh);font-size:1.5rem;font-weight:800;
  color:var(--emerald);
}
.sb-v.g{color:var(--gold);}
.sb-v.b{color:var(--cyan);}

/* Tabs */
.tabs{
  display:flex;border-bottom:1px solid var(--b);
  flex-shrink:0;background:var(--c);
}
.tbtn{
  flex:1;padding:11px 4px;
  font-family:var(--fm);font-size:0.44rem;
  letter-spacing:1px;text-transform:uppercase;
  color:var(--t2);border:none;background:none;
  border-bottom:2px solid transparent;transition:all 0.2s;cursor:none;
}
.tbtn.on{color:var(--cyan);border-bottom-color:var(--cyan);}
.tbtn:hover:not(.on){color:var(--t);}

.tpane{flex:1;overflow-y:auto;display:none;padding:12px;}
.tpane.on{display:block;}

/* Order Cards */
.obar{display:flex;gap:6px;margin-bottom:10px;}
.bsm{
  background:none;border:1px solid var(--b);
  color:var(--t2);font-family:var(--fm);font-size:0.44rem;
  letter-spacing:1px;text-transform:uppercase;
  padding:8px;border-radius:var(--r2);
  transition:all 0.2s;flex:1;cursor:none;
}
.bsm:hover{border-color:var(--b2);color:var(--t);}
.bsm.dr:hover{border-color:rgba(255,59,92,0.3);color:var(--red);}

.ocard{
  background:linear-gradient(145deg,var(--c),var(--s));
  border:1px solid var(--b);border-radius:var(--r2);
  margin-bottom:8px;padding:13px;
  transition:all 0.2s;
  animation:slideIn 0.35s var(--ease) backwards;
}
@keyframes slideIn{from{opacity:0;transform:translateX(12px)}to{opacity:1;transform:translateX(0)}}
.ocard:hover{border-color:var(--b2);}
.ocard.pending{border-left:3px solid var(--gold);}
.ocard.accepted{border-left:3px solid var(--emerald);}
.ocard.sent{border-left:3px solid var(--cyan);opacity:0.6;}

.o-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px;}
.o-num{font-family:var(--fm);font-size:0.4rem;letter-spacing:2px;color:var(--t2);}
.opill{
  font-family:var(--fm);font-size:0.4rem;
  letter-spacing:1px;text-transform:uppercase;
  padding:3px 8px;border-radius:3px;
}
.pill-p{background:rgba(255,183,0,0.1);color:var(--gold);border:1px solid rgba(255,183,0,0.25);}
.pill-a{background:rgba(0,255,136,0.1);color:var(--emerald);border:1px solid rgba(0,255,136,0.25);}
.pill-s{background:rgba(0,240,255,0.08);color:var(--cyan);border:1px solid rgba(0,240,255,0.2);}

.o-user{font-family:var(--fb);font-size:0.82rem;font-weight:700;color:var(--t);margin-bottom:2px;}
.o-uid{
  font-family:var(--fm);font-size:0.5rem;
  color:var(--purple);margin-bottom:3px;
  display:flex;align-items:center;gap:5px;
}
.uid-badge{
  background:rgba(176,102,255,0.1);
  border:1px solid rgba(176,102,255,0.22);
  padding:1px 7px;border-radius:2px;
}
.o-prod{font-family:var(--fm);font-size:0.5rem;color:var(--t2);margin-bottom:2px;}
.o-bin{font-family:var(--fm);font-size:0.48rem;color:var(--gold);margin-bottom:2px;}
.o-binname{font-family:var(--fm);font-size:0.46rem;color:var(--t2);margin-bottom:8px;}

.o-acts{display:flex;gap:5px;}
.btn-acc{
  flex:1;background:linear-gradient(135deg,var(--gold),rgba(255,180,0,0.8));
  color:#020408;border:none;
  font-family:var(--fm);font-size:0.5rem;font-weight:700;
  letter-spacing:1px;text-transform:uppercase;
  padding:8px;border-radius:var(--r2);
  transition:all 0.2s;cursor:none;
}
.btn-acc:hover:not(:disabled){
  box-shadow:0 4px 16px rgba(255,183,0,0.3);
  transform:translateY(-1px);
}
.btn-acc:disabled{background:var(--s);color:var(--t2);pointer-events:none;}
.btn-acc.accepted{
  background:rgba(0,255,136,0.1);color:var(--emerald);
  border:1px solid rgba(0,255,136,0.22);pointer-events:none;
}
.btn-ico{
  background:none;border:1px solid var(--b);
  color:var(--t2);font-size:0.68rem;
  width:30px;height:30px;border-radius:var(--r2);
  display:inline-flex;align-items:center;justify-content:center;
  transition:all 0.2s;cursor:none;
}
.btn-ico.del:hover{border-color:rgba(255,59,92,0.35);color:var(--red);}
.no-ord{
  text-align:center;padding:36px 10px;
  color:var(--t2);font-family:var(--fm);
  font-size:0.55rem;line-height:2;letter-spacing:1px;
}

/* Product Manager */
.pm-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;}
.pm-t{font-family:var(--fh);font-size:0.75rem;font-weight:700;}
.btn-ap{
  background:rgba(0,240,255,0.07);color:var(--cyan);
  border:1px solid rgba(0,240,255,0.2);
  font-family:var(--fm);font-size:0.46rem;
  letter-spacing:1px;text-transform:uppercase;
  padding:6px 12px;border-radius:var(--r3);
  transition:all 0.2s;cursor:none;
}
.btn-ap:hover{background:rgba(0,240,255,0.14);}

.pm-item{
  background:linear-gradient(145deg,var(--c),var(--s));
  border:1px solid var(--b);border-radius:var(--r2);
  padding:11px;margin-bottom:6px;
  display:flex;align-items:center;gap:10px;
  transition:all 0.2s;animation:slideIn 0.3s var(--ease) backwards;
}
.pm-item:hover{border-color:var(--b2);}
.pm-thumb{
  width:44px;height:44px;border-radius:var(--r2);
  object-fit:cover;background:var(--s);
  border:1px solid var(--b);flex-shrink:0;
  display:flex;align-items:center;justify-content:center;
  font-size:1.2rem;overflow:hidden;
}
.pm-thumb img{width:100%;height:100%;object-fit:cover;}
.pm-info{flex:1;min-width:0;}
.pm-name{
  font-family:var(--fh);font-size:0.78rem;font-weight:700;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px;
}
.pm-meta{font-family:var(--fm);font-size:0.48rem;color:var(--t2);}
.pm-price{color:var(--gold);}
.pm-acts{display:flex;gap:4px;flex-shrink:0;}

/* Add form */
.af{
  background:linear-gradient(145deg,var(--c),var(--s));
  border:1px solid var(--b2);border-radius:var(--r);
  padding:16px;margin-top:8px;
  animation:fadeUp 0.3s var(--ease);
}
.af-hd{
  font-family:var(--fh);font-size:0.8rem;font-weight:700;
  margin-bottom:14px;display:flex;align-items:center;gap:8px;
}
.af-hd::before{
  content:'';width:3px;height:16px;
  background:linear-gradient(var(--cyan),var(--purple));
  border-radius:2px;
}

.imdrop{
  width:100%;height:120px;background:rgba(0,240,255,0.02);
  border:2px dashed rgba(0,240,255,0.15);
  border-radius:var(--r2);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  color:var(--t2);transition:all 0.2s;position:relative;overflow:hidden;margin-bottom:10px;
  cursor:none;
}
.imdrop:hover{border-color:rgba(0,240,255,0.3);}
.imdrop img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;}
.id-ico{font-size:1.8rem;opacity:0.2;margin-bottom:5px;}
.id-l{font-family:var(--fm);font-size:0.44rem;letter-spacing:2px;text-transform:uppercase;opacity:0.35;}
.hin{position:absolute;inset:0;opacity:0;width:100%;height:100%;cursor:none;}

.ci-list{margin-bottom:8px;}
.ci-item{
  display:flex;align-items:center;justify-content:space-between;gap:7px;
  padding:8px 10px;background:rgba(0,240,255,0.03);
  border:1px solid rgba(0,240,255,0.08);
  border-radius:var(--r2);margin-bottom:4px;
  animation:fadeUp 0.2s var(--ease);
}
.ci-name{font-family:var(--fm);font-size:0.58rem;color:var(--t2);flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.ci-type{
  font-family:var(--fm);font-size:0.42rem;color:var(--cyan);
  padding:2px 5px;background:rgba(0,240,255,0.07);
  border-radius:2px;text-transform:uppercase;flex-shrink:0;
}
.ci-del{background:none;border:none;color:var(--t2);font-size:0.72rem;padding:0 4px;transition:color 0.15s;flex-shrink:0;cursor:none;}
.ci-del:hover{color:var(--red);}

.add-ci-btn{
  width:100%;background:none;
  border:1px dashed rgba(0,240,255,0.12);
  color:var(--t2);font-family:var(--fm);font-size:0.5rem;
  letter-spacing:1px;text-transform:uppercase;
  padding:8px;border-radius:var(--r2);
  transition:all 0.2s;margin-bottom:8px;
  position:relative;overflow:hidden;cursor:none;
}
.add-ci-btn:hover{border-color:rgba(0,240,255,0.25);color:var(--cyan);}

.text-editor-wrap{margin-bottom:8px;}
.text-editor{
  width:100%;min-height:88px;
  background:rgba(0,240,255,0.03);
  border:1px solid var(--b);color:var(--t);
  font-family:var(--fm);font-size:0.68rem;
  padding:10px 12px;outline:none;resize:vertical;
  border-radius:var(--r2);line-height:1.7;transition:all 0.2s;
}
.text-editor:focus{border-color:rgba(0,240,255,0.38);}
.text-name-inp{
  width:100%;background:rgba(0,240,255,0.03);
  border:1px solid var(--b);color:var(--t);
  font-family:var(--fm);font-size:0.66rem;
  padding:9px 12px;outline:none;border-radius:var(--r2);
  transition:all 0.2s;margin-bottom:5px;
}
.text-name-inp:focus{border-color:rgba(0,240,255,0.38);}
.add-text-btn{
  width:100%;background:rgba(176,102,255,0.07);
  border:1px solid rgba(176,102,255,0.18);
  color:var(--purple);font-family:var(--fm);font-size:0.48rem;
  letter-spacing:1px;text-transform:uppercase;
  padding:8px;border-radius:var(--r2);
  transition:all 0.2s;margin-bottom:8px;cursor:none;
}
.add-text-btn:hover{background:rgba(176,102,255,0.14);}

.dz{
  background:rgba(255,59,92,0.03);
  border:1px solid rgba(255,59,92,0.12);
  border-radius:var(--r2);padding:12px;margin-top:11px;
}
.dz-t{
  font-family:var(--fm);font-size:0.44rem;
  letter-spacing:2px;color:var(--red);text-transform:uppercase;margin-bottom:9px;
}

.sf{
  background:linear-gradient(145deg,var(--c),var(--s));
  border:1px solid var(--b);border-radius:var(--r);
  padding:14px;margin-bottom:12px;
}
.sf-t{
  font-family:var(--fh);font-size:0.76rem;font-weight:700;
  margin-bottom:13px;display:flex;align-items:center;gap:8px;
}
.sf-t::before{
  content:'';width:3px;height:14px;
  background:linear-gradient(var(--cyan),var(--purple));border-radius:2px;
}

/* ‚ïê‚ïê‚ïê PAY MODAL ‚ïê‚ïê‚ïê */
.modal{
  display:none;position:fixed;inset:0;z-index:3000;
  align-items:center;justify-content:center;padding:16px;
}
.modal.on{display:flex;}
.mbg{
  position:absolute;inset:0;
  background:rgba(0,0,0,0.92);backdrop-filter:blur(20px);
}
.mbox{
  position:relative;z-index:1;
  background:linear-gradient(145deg,var(--c),var(--s));
  border:1px solid var(--b2);border-radius:var(--r);
  width:100%;max-width:450px;max-height:92vh;overflow-y:auto;
  animation:mopen 0.45s var(--ease);
  box-shadow:0 60px 140px rgba(0,0,0,0.8),0 0 0 1px rgba(0,240,255,0.06);
}
@keyframes mopen{from{opacity:0;transform:translateY(32px) scale(0.94)}to{opacity:1;transform:translateY(0) scale(1)}}
.mhead{
  padding:24px 24px 18px;border-bottom:1px solid var(--b);
  background:linear-gradient(135deg,var(--c3),var(--c));
  position:relative;
}
.mhead::before{
  content:'';position:absolute;top:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,var(--cyan),var(--purple),var(--cyan));
  border-radius:var(--r) var(--r) 0 0;
}
.mclose{
  position:absolute;top:12px;right:14px;
  background:none;border:1px solid var(--b);
  color:var(--t2);width:28px;height:28px;
  border-radius:50%;display:flex;align-items:center;justify-content:center;
  font-size:0.76rem;transition:all 0.2s;cursor:none;
}
.mclose:hover{border-color:rgba(255,59,92,0.4);color:var(--red);}
.mtitle{
  font-family:var(--fh);font-size:1.25rem;font-weight:800;margin-bottom:4px;
}
.msub{color:var(--t2);font-size:0.7rem;line-height:1.8;font-weight:400;}
.m-pname{
  font-family:var(--fm);font-size:0.52rem;
  color:var(--cyan);margin-top:5px;letter-spacing:1px;
}
.mbody{padding:20px 24px;}

.steps{display:flex;gap:5px;margin-bottom:20px;}
.step{
  flex:1;text-align:center;
  font-family:var(--fm);font-size:0.44rem;
  letter-spacing:1px;text-transform:uppercase;
  padding:7px;border-radius:var(--r2);
  background:rgba(0,240,255,0.03);
  color:var(--t2);border:1px solid var(--b);transition:all 0.2s;
}
.step.on{color:var(--cyan);border-color:rgba(0,240,255,0.3);background:rgba(0,240,255,0.06);}
.step.ok{color:var(--emerald);border-color:rgba(0,255,136,0.2);background:rgba(0,255,136,0.04);}

.osum{
  background:rgba(0,240,255,0.03);
  border:1px solid rgba(0,240,255,0.08);
  border-radius:var(--r2);padding:14px;margin-bottom:15px;
}
.osum-row{display:flex;justify-content:space-between;margin-bottom:7px;font-size:0.72rem;}
.osum-row:last-child{margin:0;}
.osl{color:var(--t2);}

.bin-box{
  background:rgba(0,240,255,0.04);
  border:1px solid rgba(0,240,255,0.15);
  border-radius:var(--r2);padding:16px;text-align:center;margin-bottom:14px;
}
.bin-lbl{
  font-family:var(--fm);font-size:0.44rem;
  letter-spacing:3px;color:var(--cyan);text-transform:uppercase;margin-bottom:6px;
}
.bin-id{
  font-family:var(--fh);font-size:1.8rem;font-weight:800;
  background:linear-gradient(135deg,var(--gold),var(--gold2));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  letter-spacing:4px;margin-bottom:8px;
}
.copy-btn{
  background:none;border:1px solid rgba(0,240,255,0.22);
  color:var(--cyan);font-family:var(--fm);font-size:0.5rem;
  letter-spacing:1px;padding:6px 14px;border-radius:var(--r3);
  transition:all 0.2s;cursor:none;
}
.copy-btn:hover{background:rgba(0,240,255,0.08);}

.uid-display{
  background:rgba(176,102,255,0.05);
  border:1px solid rgba(176,102,255,0.18);
  border-radius:var(--r2);padding:14px;text-align:center;margin-bottom:16px;
}
.uid-lbl{
  font-family:var(--fm);font-size:0.44rem;
  letter-spacing:3px;color:var(--purple);text-transform:uppercase;margin-bottom:6px;
}
.uid-val{
  font-family:var(--fh);font-size:1.8rem;font-weight:800;
  color:var(--purple);letter-spacing:6px;
}
.uid-sub{font-family:var(--fm);font-size:0.48rem;color:var(--t2);margin-top:5px;}

/* ‚ïê‚ïê‚ïê WAIT SCREEN ‚ïê‚ïê‚ïê */
.wait-screen{
  position:fixed;inset:0;z-index:4000;
  background:rgba(0,0,0,0.97);backdrop-filter:blur(24px);
  display:none;align-items:center;justify-content:center;
  flex-direction:column;text-align:center;padding:30px;
}
.wait-screen.on{display:flex;}
.wait-orb{
  width:110px;height:110px;border-radius:50%;
  border:2px solid rgba(0,240,255,0.25);
  display:flex;align-items:center;justify-content:center;
  font-size:2.8rem;margin-bottom:28px;position:relative;
  animation:wait-pulse 2.5s ease-in-out infinite;
}
@keyframes wait-pulse{0%,100%{box-shadow:0 0 0 0 rgba(0,240,255,0.2)}50%{box-shadow:0 0 0 24px rgba(0,240,255,0)}}
.wait-orb::before,.wait-orb::after{
  content:'';position:absolute;inset:-10px;border-radius:50%;
  border:1px solid rgba(0,240,255,0.12);
  animation:ring-spin 4s linear infinite;
}
.wait-orb::after{
  inset:-20px;border-color:rgba(0,240,255,0.06);
  animation-duration:7s;animation-direction:reverse;
}
@keyframes ring-spin{to{transform:rotate(360deg)}}
.wait-title{font-family:var(--fh);font-size:1.5rem;font-weight:800;margin-bottom:10px;}
.wait-sub{color:var(--t2);font-size:0.8rem;line-height:2;font-weight:400;max-width:380px;margin-bottom:28px;}
.wait-uid-box{
  background:rgba(176,102,255,0.07);
  border:1px solid rgba(176,102,255,0.2);
  border-radius:var(--r2);padding:12px 24px;margin-bottom:28px;
}
.wait-uid-l{font-family:var(--fm);font-size:0.44rem;letter-spacing:3px;color:var(--purple);text-transform:uppercase;margin-bottom:5px;}
.wait-uid-v{font-family:var(--fh);font-size:1.6rem;font-weight:900;color:var(--purple);letter-spacing:6px;}
.wait-dots{display:flex;gap:8px;justify-content:center;margin-bottom:24px;}
.wait-dot{width:9px;height:9px;border-radius:50%;background:var(--cyan);animation:wdot 1.5s ease-in-out infinite;}
.wait-dot:nth-child(2){animation-delay:0.25s;background:var(--purple);}
.wait-dot:nth-child(3){animation-delay:0.5s;background:var(--gold);}
@keyframes wdot{0%,80%,100%{transform:scale(0.5);opacity:0.3}40%{transform:scale(1.2);opacity:1}}

/* ‚ïê‚ïê‚ïê COMPLETE SCREEN ‚ïê‚ïê‚ïê */
.complete-screen{
  position:fixed;inset:0;z-index:4500;display:none;
  align-items:center;justify-content:center;
  flex-direction:column;text-align:center;padding:30px;
  background:rgba(0,0,0,0.98);backdrop-filter:blur(28px);
}
.complete-screen.on{display:flex;}
.cs-particles{position:absolute;inset:0;overflow:hidden;pointer-events:none;}
.cs-p{position:absolute;width:6px;height:6px;border-radius:50%;animation:cs-float linear forwards;}
@keyframes cs-float{0%{transform:translateY(100vh) rotate(0deg);opacity:1}100%{transform:translateY(-20px) rotate(720deg);opacity:0}}
.cs-icon{font-size:4.5rem;margin-bottom:22px;animation:cs-bounce 0.8s var(--snap);}
@keyframes cs-bounce{0%{transform:scale(0.1);opacity:0}70%{transform:scale(1.2)}100%{transform:scale(1);opacity:1}}
.cs-title{
  font-family:var(--fh);font-size:2rem;font-weight:900;
  background:linear-gradient(135deg,var(--emerald),var(--cyan));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  margin-bottom:12px;animation:fadeUp 0.5s var(--ease) 0.3s backwards;
}
.cs-sub{color:var(--t2);font-size:0.85rem;line-height:2;font-weight:400;max-width:380px;margin-bottom:30px;animation:fadeUp 0.5s var(--ease) 0.4s backwards;}
.cs-btn{
  background:linear-gradient(135deg,var(--cyan),rgba(0,200,240,0.85));
  color:#020408;font-family:var(--fm);font-size:0.72rem;font-weight:700;
  letter-spacing:2px;text-transform:uppercase;
  padding:18px 40px;border:none;border-radius:var(--r2);
  transition:all 0.25s var(--ease);
  animation:fadeUp 0.5s var(--ease) 0.5s backwards;
  position:relative;overflow:hidden;cursor:none;
}
.cs-btn:hover{
  background:linear-gradient(135deg,var(--cyan2),var(--cyan));
  transform:translateY(-3px);
  box-shadow:0 16px 44px rgba(0,240,255,0.45);
}
.cs-btn:active{transform:scale(0.96);}

/* ‚ïê‚ïê‚ïê CONFIRM ‚ïê‚ïê‚ïê */
.conf{display:none;position:fixed;inset:0;z-index:5000;align-items:center;justify-content:center;padding:20px;}
.conf.on{display:flex;}
.conf-box{
  position:relative;z-index:1;
  background:linear-gradient(145deg,var(--c2),var(--c3));
  border:1px solid var(--b2);border-radius:var(--r);
  padding:26px;width:100%;max-width:320px;text-align:center;
  animation:mopen 0.3s var(--ease);
  box-shadow:0 30px 80px rgba(0,0,0,0.7);
}
.conf-ico{font-size:2.5rem;margin-bottom:12px;}
.conf-t{font-family:var(--fh);font-size:0.95rem;font-weight:700;margin-bottom:7px;}
.conf-s{color:var(--t2);font-size:0.72rem;line-height:1.9;margin-bottom:18px;font-weight:400;}
.conf-btns{display:flex;gap:8px;}
.conf-btns button{
  flex:1;font-family:var(--fm);font-size:0.56rem;
  letter-spacing:1px;text-transform:uppercase;
  padding:11px;border-radius:var(--r2);border:none;
  transition:all 0.2s;cursor:none;
}
.cy{background:var(--red);color:#fff;}.cy:hover{background:#ff6b6b;}
.cn{background:var(--s);color:var(--t2);border:1px solid var(--b)!important;}.cn:hover{color:var(--t);}

/* ‚ïê‚ïê‚ïê TOAST ‚ïê‚ïê‚ïê */
.toast{
  position:fixed;bottom:24px;left:50%;
  transform:translateX(-50%) translateY(70px);
  background:var(--c2);
  border:1px solid var(--b2);
  color:var(--t);font-family:var(--fm);font-size:0.6rem;
  padding:11px 22px;z-index:9999;
  transition:transform 0.4s var(--ease),opacity 0.35s;
  opacity:0;white-space:nowrap;pointer-events:none;
  border-radius:var(--r2);
  box-shadow:0 14px 44px rgba(0,0,0,0.55);
  letter-spacing:1px;
}
.toast.on{transform:translateX(-50%) translateY(0);opacity:1;}
.toast.ok{border-color:rgba(0,255,136,0.3);color:var(--emerald);}
.toast.bad{border-color:rgba(255,59,92,0.3);color:var(--red);}
.toast.info{border-color:rgba(0,240,255,0.3);color:var(--cyan);}

/* ‚ïê‚ïê‚ïê FOOTER ‚ïê‚ïê‚ïê */
.site-footer{
  position:relative;z-index:2;
  border-top:1px solid var(--b);
  background:rgba(2,4,8,0.95);
  backdrop-filter:blur(30px);
  padding:40px 40px 30px;
}
.footer-inner{
  display:flex;align-items:flex-start;
  justify-content:space-between;gap:32px;
  flex-wrap:wrap;margin-bottom:32px;
}
.footer-brand{}
.footer-logo{
  display:flex;align-items:center;gap:10px;margin-bottom:12px;
}
.footer-logo-mark{
  width:28px;height:28px;
  background:linear-gradient(135deg,var(--cyan),var(--purple));
  clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);
}
.footer-logo-text{
  font-family:var(--fh);font-size:1rem;font-weight:800;
  background:linear-gradient(135deg,#fff 40%,var(--cyan) 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.footer-desc{
  color:var(--t2);font-size:0.74rem;line-height:1.9;
  font-weight:400;max-width:260px;
}
.footer-contact{}
.footer-contact-title{
  font-family:var(--fm);font-size:0.46rem;
  letter-spacing:3px;color:var(--cyan);text-transform:uppercase;
  margin-bottom:14px;opacity:0.7;
}
.footer-links{display:flex;flex-direction:column;gap:10px;}
.footer-link{
  display:flex;align-items:center;gap:10px;
  color:var(--t2);font-size:0.76rem;text-decoration:none;
  transition:all 0.2s;padding:8px 12px;
  border:1px solid transparent;border-radius:var(--r2);
  cursor:none;
}
.footer-link:hover{
  color:var(--t);
  border-color:var(--b);
  background:rgba(0,240,255,0.04);
  transform:translateX(4px);
}
.footer-link-ico{
  width:32px;height:32px;border-radius:var(--r2);
  display:flex;align-items:center;justify-content:center;
  font-size:1rem;flex-shrink:0;
  border:1px solid var(--b);
  background:rgba(0,240,255,0.04);
  transition:all 0.2s;
}
.footer-link:hover .footer-link-ico{border-color:var(--b2);}
.footer-link-tg .footer-link-ico{border-color:rgba(56,189,248,0.2);background:rgba(56,189,248,0.06);}
.footer-link-ig .footer-link-ico{border-color:rgba(255,106,196,0.2);background:rgba(255,106,196,0.06);}
.footer-link-tt .footer-link-ico{border-color:rgba(255,255,255,0.12);background:rgba(255,255,255,0.04);}
.footer-link-name{font-weight:600;}
.footer-link-handle{
  font-family:var(--fm);font-size:0.54rem;
  color:var(--t2);opacity:0.6;margin-top:1px;
}

.footer-bottom{
  display:flex;align-items:center;justify-content:space-between;
  padding-top:20px;border-top:1px solid var(--b);flex-wrap:wrap;gap:12px;
}
.footer-copy{
  font-family:var(--fm);font-size:0.46rem;
  letter-spacing:2px;color:var(--t2);opacity:0.4;text-transform:uppercase;
}
.footer-status{
  display:flex;align-items:center;gap:7px;
  font-family:var(--fm);font-size:0.46rem;
  letter-spacing:2px;color:var(--emerald);text-transform:uppercase;
}
.footer-status-dot{
  width:6px;height:6px;border-radius:50%;background:var(--emerald);
  box-shadow:0 0 8px var(--emerald);animation:live-pulse 2s ease-in-out infinite;
}

/* ‚ïê‚ïê‚ïê DELIVERY MODAL ‚ïê‚ïê‚ïê */
#delivery-modal .mbox{max-width:500px;}

@media(max-width:1100px){
  body{overflow:auto;cursor:auto;}
  #cursor,#cursor-trail{display:none;}
  .app{flex-direction:column;}
  .main-content{flex-direction:column;}
  .store{overflow:visible;}
  .admin-panel{width:100%;min-width:0;height:auto;position:static;}
  .adash{height:auto;}
  .snav{padding:13px 20px;}
  .hero{padding:44px 20px 32px;}
  .products-wrap{padding:0 20px 50px;}
  .site-footer{padding:32px 20px 24px;}
  .products-grid{grid-template-columns:1fr;}
}
</style>
</head>
<body>

<!-- Cursor -->
<div id="cursor"></div>
<div id="cursor-trail"></div>

<!-- Background -->
<div id="grid-bg"></div>
<div class="orb o1"></div>
<div class="orb o2"></div>
<div class="orb o3"></div>

<div class="app">

  <!-- TOP NAV -->
  <nav class="snav" id="snav">
    <a class="nav-logo" href="#">
      <div class="logo-mark"></div>
      <div class="logo-text" id="nav-logo-text">JELLY<span style="-webkit-text-fill-color:var(--cyan)">CSTORE</span></div>
    </a>

    <div class="nav-center">
      <div class="nav-pill"><div class="live-dot"></div>LIVE</div>
    </div>

    <div class="nav-right">
      <!-- 3-dot admin trigger -->
      <div style="position:relative">
        <button class="nav-admin-btn" id="adminDotBtn" onclick="toggleAdminDrop()" title="Admin">‚ãÆ</button>
        <div class="admin-dropdown" id="adminDropdown">
          <button class="adrop-item" onclick="openAdminPanel()">üîê Admin Login</button>
          <button class="adrop-item" id="adminLogoutItem" style="display:none;color:var(--red)" onclick="doLogout()">‚èè Logout</button>
        </div>
      </div>
    </div>
  </nav>

  <div class="main-content">

    <!-- ‚ïê‚ïê STORE ‚ïê‚ïê -->
    <div class="store">
      <div class="hero">
        <div class="hero-bg-text" id="hero-bg-txt">VAULT</div>
        <div class="hero-tag">‚ú¶ Premium Digital Products</div>
        <h1 class="hero-title">
          <span class="line1">SECURE. FAST.</span>
          <span class="line2" id="s-title">DIGITAL.</span>
        </h1>
        <p class="hero-sub" id="s-sub">Professional digital products ‚Äî source code, firmware, templates & more. Verified delivery after payment.</p>
        <div class="hero-stats">
          <div class="hstat"><div class="hstat-v" id="stat-p">0</div><div class="hstat-l">Products</div></div>
          <div class="hstat"><div class="hstat-v" id="stat-o">0</div><div class="hstat-l">Orders</div></div>
          <div class="hstat"><div class="hstat-v">24h</div><div class="hstat-l">Delivery</div></div>
        </div>
      </div>

      <div class="products-wrap">
        <div class="sec-hd"><div class="sec-hd-l">All Products</div><div class="sec-hd-line"></div></div>
        <div class="products-grid" id="product-list">
          <div class="empty"><div class="empty-ico">‚è≥</div><div class="empty-t">Loading...</div></div>
        </div>
      </div>
    </div>

    <!-- ‚ïê‚ïê ADMIN PANEL (hidden by default) ‚ïê‚ïê -->
    <div class="admin-panel" id="admin-panel-wrap" style="display:none">

      <div class="admin-lock" id="admin-lock">
        <div class="lock-orb">üîê</div>
        <div class="lock-title">Admin Panel</div>
        <div class="lock-sub">Enter password to manage<br/>products and orders</div>
        <div class="lock-div"></div>
        <div class="fg" style="width:100%">
          <label>Password</label>
          <input type="password" id="ap" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" onkeydown="if(event.key==='Enter')doLogin()"/>
        </div>
        <button class="btm gold" onclick="doLogin()">UNLOCK ‚Üí</button>
        <div class="emsg" id="lerr">Incorrect password.</div>
      </div>

      <div class="adash" id="adash">
        <div class="dash-head">
          <div class="dash-top">
            <div class="dash-logo"><div class="d-hex"></div>ADMIN <span>PANEL</span></div>
            <button class="btn-lo" onclick="doLogout()">LOGOUT</button>
          </div>
          <div class="stats-g">
            <div class="sbox"><div class="sb-l">Products</div><div class="sb-v b" id="st-p">0</div></div>
            <div class="sbox"><div class="sb-l">Pending</div><div class="sb-v g" id="st-pg">0</div></div>
            <div class="sbox"><div class="sb-l">Accepted</div><div class="sb-v" id="st-a">0</div></div>
          </div>
        </div>

        <div class="tabs">
          <button class="tbtn on" onclick="stab('orders',this)">üìã Orders</button>
          <button class="tbtn" onclick="stab('products',this)">üì¶ Products</button>
          <button class="tbtn" onclick="stab('settings',this)">‚öô Settings</button>
        </div>

        <div class="tpane on" id="tab-orders">
          <div class="obar">
            <button class="bsm" onclick="loadOrders()">‚Üª Refresh</button>
            <button class="bsm dr" onclick="confirmDel('orders','Delete ALL Orders?','All orders will be permanently removed.')">üóë Del All</button>
          </div>
          <div id="orders-list"><div class="no-ord">Loading...</div></div>
        </div>

        <div class="tpane" id="tab-products">
          <div class="pm-top">
            <div class="pm-t">Products</div>
            <button class="btn-ap" onclick="toggleAF()">Ôºã Add</button>
          </div>
          <div id="pmgr-list"></div>

          <div class="af" id="addform" style="display:none">
            <div class="af-hd" id="af-title">Add New Product</div>
            <div class="fg"><label>Product Name *</label><input type="text" id="p-name" placeholder="e.g. ESP8266 Deauther v2.6.1"/></div>
            <div class="fg"><label>Category</label><input type="text" id="p-cat" placeholder="e.g. Firmware, Source Code"/></div>
            <div class="fg"><label>Price (USD) *</label><input type="number" id="p-price" placeholder="40" min="0" step="0.01"/></div>
            <div class="fg"><label>Description *</label><textarea id="p-desc" placeholder="Describe the product..."></textarea></div>
            <div class="flbl" style="margin-bottom:6px">Product Image</div>
            <div class="imdrop" id="imdrop" onclick="document.getElementById('img-in').click()">
              <div class="id-ico">üñº</div>
              <div class="id-l">Click to upload</div>
              <input type="file" id="img-in" class="hin" accept="image/*" onchange="handleImg(this)"/>
            </div>
            <div style="display:flex;gap:6px;margin-bottom:10px">
              <button class="btm ghost" id="clear-img" style="display:none;font-size:0.48rem;padding:6px" onclick="clearImg()">‚úï Remove Image</button>
            </div>
            <div class="flbl" style="margin-bottom:6px">Files (what buyer receives)</div>
            <div class="ci-list" id="files-list"></div>
            <button class="add-ci-btn" onclick="document.getElementById('file-in').click()">
              Ôºã Add File
              <input type="file" id="file-in" class="hin" multiple onchange="handleFiles(this)"/>
            </button>
            <div class="flbl" style="margin-bottom:6px">Text Content / Keys / Code</div>
            <div class="ci-list" id="texts-list"></div>
            <div class="text-editor-wrap" id="text-editor-wrap" style="display:none">
              <input class="text-name-inp" id="text-name-inp" placeholder="Label (e.g. License Key)"/>
              <textarea class="text-editor" id="text-inp" placeholder="Text, code, keys..."></textarea>
              <div style="display:flex;gap:6px;margin-top:6px">
                <button class="btm gold" onclick="addTextContent()" style="font-size:0.5rem;padding:8px">Ôºã Add</button>
                <button class="btm ghost" onclick="closeTextEditor()" style="flex:0.6;font-size:0.5rem;padding:8px">Cancel</button>
              </div>
            </div>
            <button class="add-text-btn" id="open-text-btn" onclick="openTextEditor()">‚úé Add Text / Code / Key</button>
            <div class="fg"><label>Tags (comma separated)</label><input type="text" id="p-chips" placeholder="v2.6.1, ESP8266"/></div>
            <div style="display:flex;gap:6px;margin-top:4px">
              <button class="btm gold" id="save-btn" onclick="saveProduct()">üíæ SAVE</button>
              <button class="btm ghost" onclick="cancelAF()" style="flex:0.6">Cancel</button>
            </div>
            <div class="emsg" id="p-err"></div>
            <div class="smsg" id="p-ok"></div>
          </div>
        </div>

        <div class="tpane" id="tab-settings">
          <div class="sf">
            <div class="sf-t">Store Settings</div>
            <div class="fg"><label>Store Name</label><input type="text" id="s-name" placeholder="DigitalVault"/></div>
            <div class="fg"><label>Hero Subtitle</label><input type="text" id="s-sub2" placeholder="Professional digital products..."/></div>
            <div class="fg"><label>Telegram Link</label><input type="text" id="s-tg" placeholder="https://t.me/jellyofficer"/></div>
            <div class="fg"><label>Binance Pay ID</label><input type="text" id="s-bin" placeholder="894307667"/></div>
            <button class="btm gold" onclick="saveSettings()">üíæ SAVE SETTINGS</button>
            <div class="smsg" id="s-ok"></div>
          </div>
          <div class="dz">
            <div class="dz-t">‚ö† Danger Zone</div>
            <button class="btm red" style="margin-bottom:7px" onclick="confirmDel('orders','Delete ALL Orders?','All orders permanently removed.')">üóë Delete All Orders</button>
            <button class="btm red" onclick="confirmDel('products','Delete ALL Products?','All products permanently removed.')">üóë Delete All Products</button>
          </div>
        </div>
      </div>

    </div><!-- /admin-panel-wrap -->

  </div><!-- /main-content -->

  <!-- ‚ïê‚ïê FOOTER ‚ïê‚ïê -->
  <footer class="site-footer">
    <div class="footer-inner">
      <div class="footer-brand">
        <div class="footer-logo">
          <div class="footer-logo-mark"></div>
          <div class="footer-logo-text" id="footer-logo-txt">JELLY CSTORE</div>
        </div>
        <div class="footer-desc">Premium digital products delivered securely. Source code, firmware, tools & more.</div>
      </div>

      <div class="footer-contact">
        <div class="footer-contact-title">Owner Contact</div>
        <div class="footer-links">
          <a class="footer-link footer-link-tg" href="https://t.me/jellyofficer" target="_blank">
            <div class="footer-link-ico">‚úàÔ∏è</div>
            <div>
              <div class="footer-link-name">Telegram</div>
              <div class="footer-link-handle">@jellyofficer</div>
            </div>
          </a>
          <a class="footer-link footer-link-ig" href="https://www.instagram.com/jellyofficer/" target="_blank">
            <div class="footer-link-ico">üì∏</div>
            <div>
              <div class="footer-link-name">Instagram</div>
              <div class="footer-link-handle">@jellyofficer</div>
            </div>
          </a>
          <a class="footer-link footer-link-tt" href="https://www.tiktok.com/@jellyofficer_" target="_blank">
            <div class="footer-link-ico">üéµ</div>
            <div>
              <div class="footer-link-name">TikTok</div>
              <div class="footer-link-handle">@jellyofficer_</div>
            </div>
          </a>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="footer-copy">¬© 2025 DigitalVault ¬∑ All Rights Reserved</div>
      <div class="footer-status">
        <div class="footer-status-dot"></div>
        ALL SYSTEMS OPERATIONAL
      </div>
    </div>
  </footer>

</div><!-- /app -->

<!-- ‚ïê‚ïê PAY MODAL ‚ïê‚ïê -->
<div class="modal" id="pay-modal">
  <div class="mbg" onclick="closePay()"></div>
  <div class="mbox">
    <div class="mhead">
      <button class="mclose" onclick="closePay()">‚úï</button>
      <div class="mtitle">Complete Order</div>
      <div class="msub">Fill in your details to place order</div>
      <div class="m-pname" id="m-pname"></div>
    </div>
    <div class="mbody">
      <div id="ms1">
        <div class="steps"><div class="step on">01 Details</div><div class="step">02 Done</div></div>
        <div class="osum">
          <div class="osum-row"><span class="osl">Product</span><span id="m-prod">‚Äî</span></div>
          <div class="osum-row"><span class="osl">Price</span><span style="background:linear-gradient(135deg,var(--gold),var(--gold2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:700" id="m-price">‚Äî</span></div>
          <div class="osum-row"><span class="osl">Delivery</span><span>After admin approval</span></div>
        </div>
        <div class="bin-box">
          <div class="bin-lbl">Send Payment To ‚Äî Binance Pay ID</div>
          <div class="bin-id" id="m-bin-id">‚Äî</div>
          <button class="copy-btn" onclick="cpBin(this)">üìã Copy ID</button>
        </div>
        <div class="uid-display">
          <div class="uid-lbl">Your Order UID</div>
          <div class="uid-val" id="m-uid">0000</div>
          <div class="uid-sub">Keep this ‚Äî admin uses it to find your order</div>
        </div>
        <div class="fg">
          <label>Your Email Address *</label>
          <input type="email" id="m-email" placeholder="you@example.com"/>
        </div>
        <div class="fg">
          <label>Transaction ID *</label>
          <input type="text" id="m-txid" placeholder="Binance transaction ID after payment"/>
        </div>
        <button class="btm gold" onclick="submitOrder()">üõí PLACE ORDER ‚Üí</button>
        <div class="emsg" id="m-err"></div>
      </div>

      <div id="ms2" style="display:none">
        <div class="steps"><div class="step ok">01 ‚úì</div><div class="step on">02 Done</div></div>
        <div style="text-align:center;padding:20px 0">
          <div style="font-size:3rem;margin-bottom:16px;animation:cs-bounce 0.6s var(--ease)">‚è≥</div>
          <div style="font-family:var(--fh);font-size:1.2rem;font-weight:800;background:linear-gradient(135deg,var(--gold),var(--gold2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:9px">Order Submitted!</div>
          <div style="color:var(--t2);font-size:0.74rem;line-height:2;font-weight:400;margin-bottom:16px">Your order is being reviewed by the admin.<br/>This window will close ‚Äî watch for the<br/><strong style="color:var(--cyan)">Complete Order</strong> prompt.</div>
          <div style="background:rgba(176,102,255,0.07);border:1px solid rgba(176,102,255,0.2);border-radius:var(--r2);padding:12px;text-align:center">
            <div style="font-family:var(--fm);font-size:0.42rem;letter-spacing:3px;color:var(--purple);text-transform:uppercase;margin-bottom:5px">Your UID</div>
            <div style="font-family:var(--fh);font-size:1.5rem;font-weight:900;color:var(--purple);letter-spacing:6px" id="m-final-uid">‚Äî</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê WAITING SCREEN ‚ïê‚ïê -->
<div class="wait-screen" id="wait-screen">
  <div class="wait-orb">‚è≥</div>
  <div class="wait-title">Waiting for Approval</div>
  <div class="wait-sub">Your order has been submitted. The admin will review and approve it shortly.</div>
  <div class="wait-uid-box">
    <div class="wait-uid-l">Your Order UID</div>
    <div class="wait-uid-v" id="wait-uid">‚Äî</div>
  </div>
  <div class="wait-dots"><div class="wait-dot"></div><div class="wait-dot"></div><div class="wait-dot"></div></div>
  <p style="color:var(--t2);font-size:0.7rem;font-weight:400">Keep this page open ‚Äî you'll be notified when approved</p>
</div>

<!-- ‚ïê‚ïê COMPLETE SCREEN ‚ïê‚ïê -->
<div class="complete-screen" id="complete-screen">
  <div class="cs-particles" id="cs-particles"></div>
  <div class="cs-icon">‚úÖ</div>
  <div class="cs-title">Order Complete!</div>
  <div class="cs-sub">Your payment has been verified and your order is ready.<br/>Click below to access your product.</div>
  <button class="cs-btn" onclick="viewProduct()">üéâ CLICK NOW TO ACCESS</button>
</div>

<!-- ‚ïê‚ïê DELIVERY MODAL ‚ïê‚ïê -->
<div class="modal" id="delivery-modal">
  <div class="mbg" onclick="closeDelivery()"></div>
  <div class="mbox">
    <div class="mhead">
      <button class="mclose" onclick="closeDelivery()">‚úï</button>
      <div class="mtitle">Your Product</div>
      <div class="msub">Order verified ‚Äî here is your content</div>
    </div>
    <div class="mbody" id="delivery-content"></div>
  </div>
</div>

<!-- ‚ïê‚ïê CONFIRM ‚ïê‚ïê -->
<div class="conf" id="conf">
  <div class="mbg" onclick="closeConf()"></div>
  <div class="conf-box">
    <div class="conf-ico" id="conf-ico">‚ö†Ô∏è</div>
    <div class="conf-t" id="conf-t">Are you sure?</div>
    <div class="conf-s" id="conf-s">This cannot be undone.</div>
    <div class="conf-btns">
      <button class="cn" onclick="closeConf()">Cancel</button>
      <button class="cy" id="conf-yes" onclick="doConf()">Delete</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   CONFIG
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const CFG={
  PASS:'3085',
  DB:'https://jhasdjhbjhdcbnwdced-default-rtdb.firebaseio.com',
};

/* ‚îÄ‚îÄ‚îÄ State ‚îÄ‚îÄ‚îÄ */
let curProd=null,confCb=null;
let editId=null,imgB64=null,formFiles=[],formTexts=[];
let pollTimer=null,myOrderKey=null,myUID=null;
let curAcceptedOrder=null;
let settings={name:'DigitalVault',sub:'Professional digital products.',tg:'https://t.me/jellyofficer',bin:'894307667'};
let adminOpen=false;

/* ‚îÄ‚îÄ‚îÄ Firebase ‚îÄ‚îÄ‚îÄ */
const db   =p=>`${CFG.DB}${p}.json`;
const fGet =p=>fetch(db(p)).then(r=>r.json());
const fSet =(p,d)=>fetch(db(p),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(d)}).then(r=>r.json());
const fPst =(p,d)=>fetch(db(p),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(d)}).then(r=>r.json());
const fPat =(p,d)=>fetch(db(p),{method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify(d)}).then(r=>r.json());
const fDel =p=>fetch(db(p),{method:'DELETE'});

/* ‚îÄ‚îÄ‚îÄ UID ‚îÄ‚îÄ‚îÄ */
function gen4UID(){let u=localStorage.getItem('dv_uid');if(!u){u=String(Math.floor(1000+Math.random()*9000));localStorage.setItem('dv_uid',u);}return u;}
const MY_UID=gen4UID();

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SOUNDS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
let audioCtx=null;
function getAudio(){
  if(!audioCtx) audioCtx=new(window.AudioContext||window.webkitAudioContext)();
  return audioCtx;
}
function playSound(type){
  try{
    const ctx=getAudio();
    const osc=ctx.createOscillator();
    const gain=ctx.createGain();
    osc.connect(gain);gain.connect(ctx.destination);
    const now=ctx.currentTime;
    if(type==='click'){
      osc.type='sine';osc.frequency.setValueAtTime(800,now);osc.frequency.exponentialRampToValueAtTime(400,now+0.08);
      gain.gain.setValueAtTime(0.12,now);gain.gain.exponentialRampToValueAtTime(0.001,now+0.12);
      osc.start(now);osc.stop(now+0.12);
    }else if(type==='hover'){
      osc.type='sine';osc.frequency.setValueAtTime(500,now);
      gain.gain.setValueAtTime(0.04,now);gain.gain.exponentialRampToValueAtTime(0.001,now+0.06);
      osc.start(now);osc.stop(now+0.06);
    }else if(type==='success'){
      const times=[[0,523],[0.1,659],[0.2,784],[0.3,1047]];
      times.forEach(([t,f])=>{
        const o2=ctx.createOscillator();const g2=ctx.createGain();
        o2.connect(g2);g2.connect(ctx.destination);
        o2.type='sine';o2.frequency.setValueAtTime(f,now+t);
        g2.gain.setValueAtTime(0.1,now+t);g2.gain.exponentialRampToValueAtTime(0.001,now+t+0.15);
        o2.start(now+t);o2.stop(now+t+0.2);
      });
    }else if(type==='error'){
      osc.type='sawtooth';osc.frequency.setValueAtTime(200,now);osc.frequency.exponentialRampToValueAtTime(100,now+0.2);
      gain.gain.setValueAtTime(0.08,now);gain.gain.exponentialRampToValueAtTime(0.001,now+0.25);
      osc.start(now);osc.stop(now+0.25);
    }else if(type==='open'){
      osc.type='sine';osc.frequency.setValueAtTime(300,now);osc.frequency.exponentialRampToValueAtTime(600,now+0.15);
      gain.gain.setValueAtTime(0.1,now);gain.gain.exponentialRampToValueAtTime(0.001,now+0.2);
      osc.start(now);osc.stop(now+0.2);
    }else if(type==='copy'){
      osc.type='sine';osc.frequency.setValueAtTime(1000,now);osc.frequency.setValueAtTime(1200,now+0.05);
      gain.gain.setValueAtTime(0.08,now);gain.gain.exponentialRampToValueAtTime(0.001,now+0.1);
      osc.start(now);osc.stop(now+0.1);
    }
  }catch(e){}
}

/* ‚îÄ‚îÄ‚îÄ Click sounds on all btns ‚îÄ‚îÄ‚îÄ */
document.addEventListener('click',e=>{
  if(e.target.matches('button,a,.btn-buy,.copy-btn')){
    playSound('click');
  }
});
document.addEventListener('mouseover',e=>{
  if(e.target.matches('button,.btn-buy,.pcard')){
    playSound('hover');
  }
},{passive:true});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   CURSOR
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const curEl=document.getElementById('cursor');
const curTrail=document.getElementById('cursor-trail');
let mouseX=0,mouseY=0,trailX=0,trailY=0;
document.addEventListener('mousemove',e=>{
  mouseX=e.clientX;mouseY=e.clientY;
  curEl.style.left=mouseX+'px';curEl.style.top=mouseY+'px';
});
function animTrail(){
  trailX+=(mouseX-trailX)*0.15;trailY+=(mouseY-trailY)*0.15;
  curTrail.style.left=trailX+'px';curTrail.style.top=trailY+'px';
  requestAnimationFrame(animTrail);
}
animTrail();
document.addEventListener('mousedown',()=>{curEl.style.width='8px';curEl.style.height='8px';});
document.addEventListener('mouseup',()=>{curEl.style.width='12px';curEl.style.height='12px';});
document.querySelectorAll('button,a').forEach(el=>{
  el.addEventListener('mouseenter',()=>{curEl.style.width='20px';curEl.style.height='20px';curEl.style.background='rgba(0,240,255,0.8)';});
  el.addEventListener('mouseleave',()=>{curEl.style.width='12px';curEl.style.height='12px';curEl.style.background='var(--cyan)';});
});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   NAV SCROLL
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
window.addEventListener('scroll',()=>{
  document.getElementById('snav').classList.toggle('scrolled',window.scrollY>20);
},{passive:true});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ADMIN 3-DOT DROPDOWN
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function toggleAdminDrop(){
  const dd=document.getElementById('adminDropdown');
  dd.classList.toggle('open');
  playSound('click');
}
document.addEventListener('click',e=>{
  if(!e.target.closest('#adminDotBtn')&&!e.target.closest('#adminDropdown')){
    document.getElementById('adminDropdown').classList.remove('open');
  }
});
function openAdminPanel(){
  document.getElementById('adminDropdown').classList.remove('open');
  const panel=document.getElementById('admin-panel-wrap');
  if(panel.style.display==='none'){
    panel.style.display='flex';
    panel.style.flexDirection='column';
    playSound('open');
  }
}
function closeAdminPanel(){
  document.getElementById('admin-panel-wrap').style.display='none';
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   AUTH
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function doLogin(){
  if(document.getElementById('ap').value===CFG.PASS){
    document.getElementById('admin-lock').style.display='none';
    document.getElementById('adash').classList.add('on');
    document.getElementById('adminLogoutItem').style.display='block';
    playSound('success');
    toast('‚úì Admin logged in','ok');
    initAdmin();
  }else{
    document.getElementById('lerr').classList.add('on');
    document.getElementById('ap').value='';
    document.getElementById('ap').focus();
    playSound('error');
  }
}
function doLogout(){
  document.getElementById('admin-lock').style.display='flex';
  document.getElementById('adash').classList.remove('on');
  document.getElementById('ap').value='';
  document.getElementById('lerr').classList.remove('on');
  document.getElementById('adminLogoutItem').style.display='none';
  document.getElementById('adminDropdown').classList.remove('open');
  closeAdminPanel();
  toast('Logged out','info');
}
function initAdmin(){loadSettings();loadOrders();loadAdminProducts();}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   TABS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function stab(id,btn){
  document.querySelectorAll('.tbtn').forEach(b=>b.classList.remove('on'));
  document.querySelectorAll('.tpane').forEach(p=>p.classList.remove('on'));
  btn.classList.add('on');
  document.getElementById('tab-'+id).classList.add('on');
  if(id==='orders')loadOrders();
  if(id==='products')loadAdminProducts();
  playSound('click');
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   SETTINGS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
async function loadSettings(){
  try{
    const d=await fGet('/settings');
    if(d&&!d.error){
      settings={...settings,...d};
      applySettings();
      if(d.name)document.getElementById('s-name').value=d.name;
      if(d.sub)document.getElementById('s-sub2').value=d.sub;
      if(d.tg)document.getElementById('s-tg').value=d.tg;
      if(d.bin)document.getElementById('s-bin').value=d.bin;
    }
  }catch(e){}
}
function applySettings(){
  const n=settings.name||'DigitalVault';
  const m=Math.ceil(n.length/2);
  const lt=document.getElementById('nav-logo-text');
  const ft=document.getElementById('footer-logo-txt');
  if(lt)lt.innerHTML=esc(n.slice(0,m))+'<span style="-webkit-text-fill-color:var(--cyan)">'+esc(n.slice(m))+'</span>';
  if(ft)ft.textContent=n;
  const sub=document.getElementById('s-sub');
  if(sub&&settings.sub)sub.textContent=settings.sub;
  document.title=n;
}
async function saveSettings(){
  const s={
    name:document.getElementById('s-name').value.trim()||settings.name,
    sub:document.getElementById('s-sub2').value.trim()||settings.sub,
    tg:document.getElementById('s-tg').value.trim()||settings.tg,
    bin:document.getElementById('s-bin').value.trim()||settings.bin,
  };
  try{
    await fSet('/settings',s);settings=s;applySettings();
    showMsg('s-ok','‚úì Saved!');toast('‚úì Settings saved','ok');playSound('success');
  }catch(e){toast('‚ö† '+e.message,'bad');playSound('error');}
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   STORE PRODUCTS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
async function loadStoreProducts(){
  const list=document.getElementById('product-list');
  try{
    const d=await fGet('/products');
    if(!d||d.error||!Object.keys(d).length){
      list.innerHTML='<div class="empty"><div class="empty-ico">üì¶</div><div class="empty-t">No products yet</div><div class="empty-s">Check back soon!</div></div>';
      document.getElementById('stat-p').textContent='0';return;
    }
    const prods=Object.entries(d).map(([id,v])=>({id,...v}));
    document.getElementById('stat-p').textContent=prods.length;
    list.innerHTML=prods.map((p,i)=>{
      const chips=(p.chips||'').split(',').filter(c=>c.trim()).map(c=>`<span class="chip">${esc(c.trim())}</span>`).join('');
      const files=(p.files||[]).map(f=>`<div class="item-row"><span class="ir-ico">${fIco(f.name)}</span><span class="ir-name">${esc(f.name)}</span><span class="ir-type">${esc(extOf(f.name))}</span></div>`).join('');
      const texts=(p.texts||[]).map(t=>`<div class="item-row"><span class="ir-ico">üìù</span><span class="ir-name">${esc(t.label||'Text')}</span><span class="ir-type">TEXT</span></div>`).join('');
      const allItems=files+texts;
      const imgHtml=p.image?`<img src="${p.image}" alt="${esc(p.name)}" loading="lazy"/><div class="img-grd"></div>`:`<div class="pc-img-ph"><div class="ph-ico">üìÅ</div><div class="ph-t">No Preview</div></div>`;
      const priceTag=p.price?`<div class="img-price"><div class="ip-v">$${esc(String(p.price))}</div><div class="ip-l">USD</div></div>`:'';
      const tgUrl=esc(settings.tg||'https://t.me/jellyofficer');
      return `<div class="pcard" style="animation-delay:${i*100}ms">
        <div class="pc-img">
          ${imgHtml}
          ${p.image?`<div class="img-bdgs"><span class="bdg bdg-g">IN STOCK</span>${p.cat?`<span class="bdg bdg-c">${esc(p.cat)}</span>`:''}</div>`:''}
          ${priceTag}
        </div>
        <div class="pc-body">
          ${p.cat?`<div class="pc-cat">${esc(p.cat)}</div>`:''}
          <div class="pc-title">${esc(p.name)}</div>
          <div class="pc-summary">${esc(p.desc||p.summary||'')}</div>
          ${chips?`<div class="pc-chips">${chips}</div>`:''}
          ${allItems?`<div class="pc-items"><div class="items-lbl">What's Included</div>${allItems}</div>`:''}
          <div class="pc-cta">
            <button class="btn-buy" onclick='openPay(${JSON.stringify({id:p.id,name:p.name,price:p.price})})'>üõí Buy ‚Äî $${esc(String(p.price||'?'))}</button>
            <a class="btn-tg" href="${tgUrl}" target="_blank">‚úà TG</a>
          </div>
        </div>
      </div>`;
    }).join('');
  }catch(e){
    list.innerHTML=`<div class="empty"><div class="empty-ico">‚ö†Ô∏è</div><div class="empty-t">Error</div><div class="empty-s">${esc(e.message)}</div></div>`;
  }
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ORDERS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
async function loadOrders(){
  const list=document.getElementById('orders-list');
  list.innerHTML='<div class="no-ord">Loading...</div>';
  try{
    const d=await fGet('/orders');
    const total=d&&!d.error?Object.keys(d).length:0;
    document.getElementById('stat-o').textContent=total;
    if(!d||d.error||!Object.keys(d).length){
      list.innerHTML='<div class="no-ord">No orders yet.</div>';
      setStats(0,0);return;
    }
    const orders=Object.entries(d).map(([k,v])=>({_key:k,...v})).sort((a,b)=>(b.tsMs||0)-(a.tsMs||0));
    setStats(orders.filter(o=>o.status==='pending').length,orders.filter(o=>o.status==='accepted').length);
    list.innerHTML=orders.map((o,i)=>{
      const dt=new Date(o.timestamp||Date.now()).toLocaleString('en-GB',{day:'2-digit',month:'short',hour:'2-digit',minute:'2-digit'});
      const sMap={pending:'pill-p',accepted:'pill-a',sent:'pill-s'};
      const lMap={pending:'PENDING',accepted:'‚úì ACCEPTED',sent:'SENT'};
      const isAcc=o.status==='accepted'||o.status==='sent';
      return `<div class="ocard ${o.status}" id="oc-${o._key}" style="animation-delay:${i*40}ms">
        <div class="o-row">
          <div class="o-num">#${orders.length-i} ¬∑ ${dt}</div>
          <span class="opill ${sMap[o.status]||'pill-p'}">${lMap[o.status]||'PENDING'}</span>
        </div>
        <div class="o-user">${esc(o.email||'‚Äî')}</div>
        <div class="o-uid">UID: <span class="uid-badge">${esc(o.uid||'‚Äî')}</span></div>
        <div class="o-prod">üì¶ ${esc(o.product||'‚Äî')} ¬∑ ${esc(o.price||'‚Äî')}</div>
        ${o.txid&&o.txid!=='Not provided'?`<div class="o-bin">TX: ${esc(o.txid)}</div>`:'<div class="o-bin" style="color:var(--red);opacity:0.7">‚ö† No TX ID</div>'}
        <div class="o-binname" style="font-size:0.44rem">ü™ô Binance ¬∑ ${dt}</div>
        <div class="o-acts" style="margin-top:9px">
          <button class="btn-acc ${isAcc?'accepted':''}" ${isAcc?'disabled':''} onclick="acceptOrder('${o._key}','${esc(o.uid||'')}',this)">
            ${isAcc?'‚úì Accepted':'‚ö° Accept'}
          </button>
          <button class="btn-ico del" onclick="delOrder('${o._key}')" title="Delete">‚úï</button>
        </div>
      </div>`;
    }).join('');
  }catch(e){
    list.innerHTML=`<div class="no-ord">‚ö† ${esc(e.message)}</div>`;setStats(0,0);
  }
}
function setStats(pg,a){
  document.getElementById('st-p').textContent=document.getElementById('stat-p').textContent;
  document.getElementById('st-pg').textContent=pg;
  document.getElementById('st-a').textContent=a;
}
async function acceptOrder(key,uid){
  confirmAction('Accept Order?',`Notify user UID: ${uid} ‚Äî order complete.`,'‚úÖ',async()=>{
    await fPat('/orders/'+key,{status:'accepted',acceptedAt:new Date().toISOString()});
    toast('‚úì Order accepted!','ok');playSound('success');loadOrders();
  },'Accept');
}
async function delOrder(key){
  confirmAction('Delete Order?','This order will be permanently removed.','üóë',async()=>{
    await fDel('/orders/'+key);toast('Order deleted','ok');loadOrders();
  });
}

/* ‚îÄ‚îÄ‚îÄ POLLING ‚îÄ‚îÄ‚îÄ */
function startPolling(orderKey){
  stopPolling();
  pollTimer=setInterval(async()=>{
    try{const d=await fGet('/orders/'+orderKey);if(d&&d.status==='accepted'){stopPolling();showCompleteScreen(d);}}catch(e){}
  },3000);
}
function stopPolling(){if(pollTimer){clearInterval(pollTimer);pollTimer=null;}}
function showCompleteScreen(orderData){
  document.getElementById('wait-screen').classList.remove('on');
  document.getElementById('pay-modal').classList.remove('on');
  launchConfetti();
  document.getElementById('complete-screen').classList.add('on');
  curAcceptedOrder=orderData;
  playSound('success');
}
function launchConfetti(){
  const c=document.getElementById('cs-particles');c.innerHTML='';
  const colors=['#00f0ff','#00ff88','#ffb700','#b066ff','#ff3b5c','#7dfeff'];
  for(let i=0;i<70;i++){
    const p=document.createElement('div');p.className='cs-p';
    const sz=Math.random()*9+3;
    p.style.cssText=`width:${sz}px;height:${sz}px;background:${colors[Math.floor(Math.random()*colors.length)]};left:${Math.random()*100}%;animation-duration:${Math.random()*3+2}s;animation-delay:${Math.random()*1.2}s;border-radius:${Math.random()>0.5?'50%':'3px'};`;
    c.appendChild(p);
  }
}
function viewProduct(){
  document.getElementById('complete-screen').classList.remove('on');
  if(!curAcceptedOrder)return;
  showDelivery(curAcceptedOrder);
}
async function showDelivery(order){
  const modal=document.getElementById('delivery-modal');
  const content=document.getElementById('delivery-content');
  content.innerHTML='<div style="text-align:center;padding:24px;color:var(--t2);font-family:var(--fm);font-size:0.6rem">Loading...</div>';
  modal.classList.add('on');playSound('open');
  try{
    const prod=order.productId?await fGet('/products/'+order.productId):null;
    let html=`<div style="margin-bottom:20px">
      <div style="font-family:var(--fh);font-size:1.15rem;font-weight:800;margin-bottom:6px">${esc(order.product||'Your Product')}</div>
      <div style="font-family:var(--fm);font-size:0.5rem;color:var(--emerald);letter-spacing:1px">‚úì PAYMENT VERIFIED ‚Äî ORDER COMPLETE</div>
    </div>`;
    if(prod&&!prod.error){
      if(prod.texts&&prod.texts.length){
        prod.texts.forEach(t=>{
          html+=`<div style="margin-bottom:16px">
            <div style="font-family:var(--fm);font-size:0.46rem;letter-spacing:2px;color:var(--cyan);text-transform:uppercase;margin-bottom:7px;opacity:0.8">${esc(t.label||'Content')}</div>
            <pre style="background:rgba(0,240,255,0.03);border:1px solid rgba(0,240,255,0.1);border-radius:var(--r2);padding:14px;font-family:var(--fm);font-size:0.66rem;color:var(--t2);white-space:pre-wrap;word-break:break-all;line-height:1.8;overflow-x:auto">${esc(t.content||'')}</pre>
          </div>`;
        });
      }
      if(prod.files&&prod.files.length){
        html+=`<div style="margin-bottom:14px">
          <div style="font-family:var(--fm);font-size:0.46rem;letter-spacing:2px;color:var(--cyan);text-transform:uppercase;margin-bottom:9px;opacity:0.8">Download Files</div>`;
        prod.files.forEach(f=>{
          html+=`<div style="display:flex;align-items:center;justify-content:space-between;padding:10px 13px;background:rgba(0,240,255,0.03);border:1px solid rgba(0,240,255,0.1);border-radius:var(--r2);margin-bottom:5px">
            <div style="display:flex;align-items:center;gap:9px">
              <span>${fIco(f.name)}</span>
              <span style="font-family:var(--fm);font-size:0.6rem;color:var(--t2)">${esc(f.name)}</span>
            </div>
            <a href="${f.base64}" download="${esc(f.name)}" style="background:linear-gradient(135deg,var(--cyan),rgba(0,200,240,0.8));color:#020408;font-family:var(--fm);font-size:0.48rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;padding:6px 13px;border-radius:var(--r3);text-decoration:none">‚¨á Download</a>
          </div>`;
        });
        html+='</div>';
      }
      if((!prod.texts||!prod.texts.length)&&(!prod.files||!prod.files.length)){
        html+=`<p style="color:var(--t2);font-size:0.78rem;line-height:2">${esc(prod.desc||'Your order is complete. Contact admin for delivery.')}</p>`;
      }
    }else{
      html+=`<p style="color:var(--t2);font-size:0.78rem;line-height:2">Your order is confirmed! Contact admin for file delivery.</p>`;
    }
    content.innerHTML=html;
  }catch(e){
    content.innerHTML=`<p style="color:var(--t2);font-size:0.78rem">Your order is confirmed! Contact admin for delivery.</p>`;
  }
}
function closeDelivery(){document.getElementById('delivery-modal').classList.remove('on');}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   ADMIN PRODUCTS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
async function loadAdminProducts(){
  const list=document.getElementById('pmgr-list');
  try{
    const d=await fGet('/products');
    if(!d||d.error||!Object.keys(d).length){list.innerHTML='<div class="no-ord">No products.</div>';document.getElementById('st-p').textContent='0';return;}
    const prods=Object.entries(d).map(([id,v])=>({id,...v}));
    document.getElementById('st-p').textContent=prods.length;
    list.innerHTML=prods.map((p,i)=>{
      const th=p.image?`<div class="pm-thumb"><img src="${p.image}" alt="${esc(p.name)}"/></div>`:`<div class="pm-thumb">üì¶</div>`;
      const fc=(p.files||[]).length+(p.texts||[]).length;
      return `<div class="pm-item" style="animation-delay:${i*40}ms">
        ${th}
        <div class="pm-info">
          <div class="pm-name">${esc(p.name)}</div>
          <div class="pm-meta"><span class="pm-price">$${esc(String(p.price||0))}</span>${p.cat?' ¬∑ '+esc(p.cat):''}${fc?' ¬∑ '+fc+' file'+(fc>1?'s':''):''}</div>
        </div>
        <div class="pm-acts">
          <button class="btn-ico" onclick="editProduct('${p.id}')" title="Edit">‚úèÔ∏è</button>
          <button class="btn-ico del" onclick="delProd('${p.id}')" title="Delete">‚úï</button>
        </div>
      </div>`;
    }).join('');
  }catch(e){list.innerHTML=`<div class="no-ord">‚ö† ${esc(e.message)}</div>`;}
}
function toggleAF(){
  editId=null;imgB64=null;formFiles=[];formTexts=[];
  const f=document.getElementById('addform');
  const showing=f.style.display!=='none';
  f.style.display=showing?'none':'block';
  if(!showing){
    document.getElementById('af-title').textContent='Add New Product';
    document.getElementById('save-btn').textContent='üíæ SAVE';
    clearAF();
    setTimeout(()=>document.getElementById('tab-products').scrollTo({top:9999,behavior:'smooth'}),50);
    playSound('open');
  }
}
function clearAF(){
  ['p-name','p-cat','p-price','p-desc','p-chips'].forEach(id=>{const el=document.getElementById(id);if(el)el.value='';});
  imgB64=null;formFiles=[];formTexts=[];
  renderImgPrev();renderFilesUI();renderTextsUI();closeTextEditor();
  document.getElementById('p-err').classList.remove('on');
  document.getElementById('p-ok').classList.remove('on');
}
async function editProduct(id){
  try{
    const d=await fGet('/products/'+id);
    editId=id;imgB64=d.image||null;formFiles=d.files||[];formTexts=d.texts||[];
    document.getElementById('p-name').value=d.name||'';
    document.getElementById('p-cat').value=d.cat||'';
    document.getElementById('p-price').value=d.price||'';
    document.getElementById('p-desc').value=d.desc||d.summary||'';
    document.getElementById('p-chips').value=d.chips||'';
    document.getElementById('af-title').textContent='Edit Product';
    document.getElementById('save-btn').textContent='üíæ UPDATE';
    document.getElementById('addform').style.display='block';
    renderImgPrev();renderFilesUI();renderTextsUI();
    setTimeout(()=>document.getElementById('tab-products').scrollTo({top:9999,behavior:'smooth'}),50);
    playSound('open');
  }catch(e){toast('‚ö† Load failed','bad');playSound('error');}
}
async function saveProduct(){
  const name=document.getElementById('p-name').value.trim();
  const price=document.getElementById('p-price').value.trim();
  const err=document.getElementById('p-err');
  const btn=document.getElementById('save-btn');
  if(!name||!price){err.textContent='‚ö† Name and price required.';err.classList.add('on');playSound('error');return;}
  err.classList.remove('on');btn.disabled=true;btn.textContent='Saving...';
  const prod={
    name,price:parseFloat(price),
    cat:document.getElementById('p-cat').value.trim(),
    desc:document.getElementById('p-desc').value.trim(),
    chips:document.getElementById('p-chips').value.trim(),
    image:imgB64||null,files:formFiles,texts:formTexts,
    updatedAt:new Date().toISOString(),
  };
  try{
    if(editId){await fPat('/products/'+editId,prod);}
    else{prod.createdAt=new Date().toISOString();await fPst('/products',prod);}
    btn.disabled=false;btn.textContent=editId?'üíæ UPDATE':'üíæ SAVE';
    showMsg('p-ok',editId?'‚úì Updated!':'‚úì Added!');
    toast(editId?'‚úì Updated':'‚úì Added','ok');playSound('success');
    clearAF();editId=null;
    document.getElementById('addform').style.display='none';
    loadAdminProducts();loadStoreProducts();
  }catch(e){
    btn.disabled=false;btn.textContent=editId?'üíæ UPDATE':'üíæ SAVE';
    err.textContent='‚ö† '+e.message;err.classList.add('on');playSound('error');
  }
}
function cancelAF(){document.getElementById('addform').style.display='none';clearAF();editId=null;}
async function delProd(id){
  confirmAction('Delete Product?','This product will be removed from the store.','üóë',async()=>{
    await fDel('/products/'+id);toast('Deleted','ok');loadAdminProducts();loadStoreProducts();
  });
}

/* ‚îÄ‚îÄ‚îÄ Image ‚îÄ‚îÄ‚îÄ */
function handleImg(input){
  const f=input.files[0];if(!f)return;
  const r=new FileReader();r.onload=e=>{imgB64=e.target.result;renderImgPrev();};r.readAsDataURL(f);
}
function clearImg(){imgB64=null;renderImgPrev();}
function renderImgPrev(){
  const z=document.getElementById('imdrop');
  z.querySelectorAll('.prev-img').forEach(el=>el.remove());
  const btn=document.getElementById('clear-img');
  if(imgB64){
    const img=document.createElement('img');img.src=imgB64;img.className='prev-img';z.appendChild(img);
    z.querySelector('.id-ico').style.display='none';z.querySelector('.id-l').style.display='none';btn.style.display='';
  }else{
    z.querySelector('.id-ico').style.display='';z.querySelector('.id-l').style.display='';btn.style.display='none';
  }
}

/* ‚îÄ‚îÄ‚îÄ Files ‚îÄ‚îÄ‚îÄ */
function handleFiles(input){
  Array.from(input.files).forEach(file=>{
    const r=new FileReader();
    r.onload=e=>{formFiles.push({name:file.name,size:file.size,base64:e.target.result});renderFilesUI();};
    r.readAsDataURL(file);
  });
  input.value='';
}
function renderFilesUI(){
  const list=document.getElementById('files-list');
  if(!formFiles.length){list.innerHTML='';return;}
  list.innerHTML=formFiles.map((f,i)=>`<div class="ci-item"><span>${fIco(f.name)}</span><span class="ci-name">${esc(f.name)}</span><span class="ci-type">${esc(extOf(f.name))}</span><button class="ci-del" onclick="rmFile(${i})">‚úï</button></div>`).join('');
}
function rmFile(i){formFiles.splice(i,1);renderFilesUI();}

/* ‚îÄ‚îÄ‚îÄ Text content ‚îÄ‚îÄ‚îÄ */
function openTextEditor(){
  document.getElementById('text-editor-wrap').style.display='block';
  document.getElementById('open-text-btn').style.display='none';
  document.getElementById('text-inp').value='';document.getElementById('text-name-inp').value='';
  playSound('click');
}
function closeTextEditor(){
  document.getElementById('text-editor-wrap').style.display='none';
  document.getElementById('open-text-btn').style.display='';
}
function addTextContent(){
  const label=document.getElementById('text-name-inp').value.trim()||'Content';
  const content=document.getElementById('text-inp').value.trim();
  if(!content)return;
  formTexts.push({label,content});renderTextsUI();closeTextEditor();toast('‚úì Text added','ok');playSound('success');
}
function renderTextsUI(){
  const list=document.getElementById('texts-list');
  if(!formTexts.length){list.innerHTML='';return;}
  list.innerHTML=formTexts.map((t,i)=>`<div class="ci-item"><span>üìù</span><span class="ci-name">${esc(t.label)}</span><span class="ci-type">TEXT</span><button class="ci-del" onclick="rmText(${i})">‚úï</button></div>`).join('');
}
function rmText(i){formTexts.splice(i,1);renderTextsUI();}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PAY MODAL
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function openPay(prod){
  curProd=prod;myUID=MY_UID;
  document.getElementById('m-pname').textContent=prod.name;
  document.getElementById('m-prod').textContent=prod.name;
  document.getElementById('m-price').textContent='$'+prod.price+' USD';
  document.getElementById('m-bin-id').textContent=settings.bin||'894307667';
  document.getElementById('m-uid').textContent=myUID;
  document.getElementById('m-final-uid').textContent=myUID;
  document.getElementById('m-email').value='';
  document.getElementById('m-txid').value='';
  document.getElementById('m-err').classList.remove('on');
  document.getElementById('ms1').style.display='block';
  document.getElementById('ms2').style.display='none';
  document.getElementById('pay-modal').classList.add('on');
  playSound('open');
}
function closePay(){document.getElementById('pay-modal').classList.remove('on');playSound('click');}

function cpBin(btn){
  const v=settings.bin||'894307667';
  navigator.clipboard.writeText(v).catch(()=>{const t=document.createElement('textarea');t.value=v;document.body.appendChild(t);t.select();document.execCommand('copy');t.remove();});
  btn.textContent='‚úì Copied!';setTimeout(()=>btn.textContent='üìã Copy ID',2000);
  playSound('copy');toast('Copied!','ok');
}

async function submitOrder(){
  const errEl=document.getElementById('m-err');
  const btn=document.querySelector('#ms1 .btm.gold');
  const email=(document.getElementById('m-email').value||'').trim();
  const txid=(document.getElementById('m-txid').value||'').trim();
  if(!email){errEl.textContent='‚ö† Email address is required.';errEl.classList.add('on');playSound('error');return;}
  if(!email.includes('@')||!email.includes('.')){errEl.textContent='‚ö† Enter a valid email.';errEl.classList.add('on');playSound('error');return;}
  if(!txid){errEl.textContent='‚ö† Transaction ID is required.';errEl.classList.add('on');playSound('error');return;}
  errEl.classList.remove('on');btn.disabled=true;btn.textContent='Saving...';
  const order={
    id:'ORD-'+Date.now(),uid:myUID,email,txid,
    product:curProd?.name||'‚Äî',productId:curProd?.id||null,
    price:curProd?.price?'$'+curProd.price:'‚Äî',
    payMethod:'binance',status:'pending',
    timestamp:new Date().toISOString(),tsMs:Date.now(),
  };
  try{
    const r=await fPst('/orders',order);
    if(r&&r.error)throw new Error(r.error);
    myOrderKey=r.name;
    btn.disabled=false;btn.textContent='üõí PLACE ORDER ‚Üí';
    document.getElementById('ms1').style.display='none';
    document.getElementById('ms2').style.display='block';
    playSound('success');
    setTimeout(()=>{
      closePay();
      document.getElementById('wait-uid').textContent=myUID;
      document.getElementById('wait-screen').classList.add('on');
      startPolling(myOrderKey);
    },2200);
    if(document.getElementById('adash').classList.contains('on'))loadOrders();
  }catch(e){
    btn.disabled=false;btn.textContent='üõí PLACE ORDER ‚Üí';
    errEl.textContent='‚ö† '+e.message;errEl.classList.add('on');playSound('error');
  }
}

/* ‚îÄ‚îÄ‚îÄ Delete all ‚îÄ‚îÄ‚îÄ */
async function confirmDel(type,title,sub){
  confirmAction(title,sub,'‚ö†Ô∏è',async()=>{
    await fDel('/'+type);toast('All '+type+' deleted','ok');
    if(type==='orders'){loadOrders();}else{loadAdminProducts();loadStoreProducts();}
  },'Delete All');
}

/* ‚îÄ‚îÄ‚îÄ Confirm dialog ‚îÄ‚îÄ‚îÄ */
function confirmAction(title,sub,icon,cb,yesLbl='Delete'){
  confCb=cb;
  document.getElementById('conf-t').textContent=title;
  document.getElementById('conf-s').textContent=sub;
  document.getElementById('conf-ico').textContent=icon;
  document.getElementById('conf-yes').textContent=yesLbl;
  document.getElementById('conf').classList.add('on');
  playSound('click');
}
function closeConf(){document.getElementById('conf').classList.remove('on');confCb=null;}
async function doConf(){closeConf();if(confCb)await confCb();}

/* ‚îÄ‚îÄ‚îÄ Toast ‚îÄ‚îÄ‚îÄ */
let _tt;
function toast(msg,type=''){
  const t=document.getElementById('toast');
  t.textContent=msg;t.className='toast on '+(type||'');
  clearTimeout(_tt);_tt=setTimeout(()=>t.className='toast',3400);
}

/* ‚îÄ‚îÄ‚îÄ Utils ‚îÄ‚îÄ‚îÄ */
function fIco(name){
  if(!name)return'üìÑ';const e=extOf(name).toLowerCase();
  if(['zip','rar','7z','tar','gz'].includes(e))return'üóú';if(e==='pdf')return'üìï';
  if(['png','jpg','jpeg','gif','webp','svg'].includes(e))return'üñº';
  if(['bin','hex','elf','fw'].includes(e))return'‚öô';
  if(['js','ts','jsx','tsx','vue'].includes(e))return'üåê';
  if(['html','css','scss','sass'].includes(e))return'üé®';
  if(['py','rb','go','rs','c','cpp','h'].includes(e))return'üêç';
  if(['sh','bat','cmd','ps1'].includes(e))return'‚ö°';
  if(['json','yaml','yml','toml','env'].includes(e))return'üìã';
  if(['md','txt','doc','docx'].includes(e))return'üìù';
  return'üìÑ';
}
function extOf(n){return(n||'').split('.').pop();}
function esc(s){return(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');}
function showMsg(id,msg){const el=document.getElementById(id);if(!el)return;el.textContent=msg;el.classList.add('on');setTimeout(()=>el.classList.remove('on'),3500);}

document.addEventListener('keydown',e=>{
  if(e.key==='Escape'){closePay();closeConf();closeDelivery();}
});

/* ‚îÄ‚îÄ‚îÄ Init ‚îÄ‚îÄ‚îÄ */
(async()=>{await loadSettings();await loadStoreProducts();})();
</script>
</body>
</html>
